<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>angular | yh-orange 学习笔记</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/images/icon.png">
    <meta name="description" content="Personal Website">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.31114bff.css" as="style"><link rel="preload" href="/assets/js/app.ab7ccc71.js" as="script"><link rel="preload" href="/assets/js/3.4edb9727.js" as="script"><link rel="preload" href="/assets/js/1.8fa44146.js" as="script"><link rel="preload" href="/assets/js/74.b146fd8c.js" as="script"><link rel="prefetch" href="/assets/js/10.117c3e7a.js"><link rel="prefetch" href="/assets/js/11.92bc9c31.js"><link rel="prefetch" href="/assets/js/12.f9afe2d3.js"><link rel="prefetch" href="/assets/js/13.814b4335.js"><link rel="prefetch" href="/assets/js/14.07ec2310.js"><link rel="prefetch" href="/assets/js/15.75624940.js"><link rel="prefetch" href="/assets/js/16.1b7695b0.js"><link rel="prefetch" href="/assets/js/17.3ebd7f2b.js"><link rel="prefetch" href="/assets/js/18.74427907.js"><link rel="prefetch" href="/assets/js/19.6afca700.js"><link rel="prefetch" href="/assets/js/20.62ea23cc.js"><link rel="prefetch" href="/assets/js/21.2a1e282a.js"><link rel="prefetch" href="/assets/js/22.3e86ef0c.js"><link rel="prefetch" href="/assets/js/23.86990ac5.js"><link rel="prefetch" href="/assets/js/24.901bce47.js"><link rel="prefetch" href="/assets/js/25.1dd59c95.js"><link rel="prefetch" href="/assets/js/26.d382260a.js"><link rel="prefetch" href="/assets/js/27.4f928d65.js"><link rel="prefetch" href="/assets/js/28.3b826946.js"><link rel="prefetch" href="/assets/js/29.6c5a6671.js"><link rel="prefetch" href="/assets/js/30.236895e5.js"><link rel="prefetch" href="/assets/js/31.b8047fdd.js"><link rel="prefetch" href="/assets/js/32.1d2b663c.js"><link rel="prefetch" href="/assets/js/33.a3528f35.js"><link rel="prefetch" href="/assets/js/34.03511400.js"><link rel="prefetch" href="/assets/js/35.de42440a.js"><link rel="prefetch" href="/assets/js/36.0fc211d4.js"><link rel="prefetch" href="/assets/js/37.26759b23.js"><link rel="prefetch" href="/assets/js/38.588a7518.js"><link rel="prefetch" href="/assets/js/39.15e5c940.js"><link rel="prefetch" href="/assets/js/4.e9ad93dd.js"><link rel="prefetch" href="/assets/js/40.c97b3712.js"><link rel="prefetch" href="/assets/js/41.303f2a45.js"><link rel="prefetch" href="/assets/js/42.73ca30bd.js"><link rel="prefetch" href="/assets/js/43.953b4c7c.js"><link rel="prefetch" href="/assets/js/44.6792b66b.js"><link rel="prefetch" href="/assets/js/45.0c7776f3.js"><link rel="prefetch" href="/assets/js/46.c0458285.js"><link rel="prefetch" href="/assets/js/47.926765f5.js"><link rel="prefetch" href="/assets/js/48.8fa5c2c8.js"><link rel="prefetch" href="/assets/js/49.7495e132.js"><link rel="prefetch" href="/assets/js/5.4c32532b.js"><link rel="prefetch" href="/assets/js/50.d63aadc0.js"><link rel="prefetch" href="/assets/js/51.9a363be7.js"><link rel="prefetch" href="/assets/js/52.28410924.js"><link rel="prefetch" href="/assets/js/53.acc6026d.js"><link rel="prefetch" href="/assets/js/54.e030fc14.js"><link rel="prefetch" href="/assets/js/55.0b081e5c.js"><link rel="prefetch" href="/assets/js/56.833ab305.js"><link rel="prefetch" href="/assets/js/57.b1608b93.js"><link rel="prefetch" href="/assets/js/58.be51ba8c.js"><link rel="prefetch" href="/assets/js/59.aec83a30.js"><link rel="prefetch" href="/assets/js/6.132c57c0.js"><link rel="prefetch" href="/assets/js/60.08ff5ee8.js"><link rel="prefetch" href="/assets/js/61.94a50c42.js"><link rel="prefetch" href="/assets/js/62.b2db71be.js"><link rel="prefetch" href="/assets/js/63.2a0181c3.js"><link rel="prefetch" href="/assets/js/64.7f023a4a.js"><link rel="prefetch" href="/assets/js/65.17b400ef.js"><link rel="prefetch" href="/assets/js/66.794f64c3.js"><link rel="prefetch" href="/assets/js/67.ce97d267.js"><link rel="prefetch" href="/assets/js/68.12100ad3.js"><link rel="prefetch" href="/assets/js/69.31abf334.js"><link rel="prefetch" href="/assets/js/7.49a9a74a.js"><link rel="prefetch" href="/assets/js/70.dcd9c229.js"><link rel="prefetch" href="/assets/js/71.6eb3c080.js"><link rel="prefetch" href="/assets/js/72.741c9df7.js"><link rel="prefetch" href="/assets/js/73.30fe6803.js"><link rel="prefetch" href="/assets/js/75.b3e38e76.js"><link rel="prefetch" href="/assets/js/76.73926b71.js"><link rel="prefetch" href="/assets/js/77.65ea9d49.js"><link rel="prefetch" href="/assets/js/78.1d532daa.js"><link rel="prefetch" href="/assets/js/79.07ccc890.js"><link rel="prefetch" href="/assets/js/8.17f9c4ab.js"><link rel="prefetch" href="/assets/js/9.71be61be.js">
    <link rel="stylesheet" href="/assets/css/0.styles.31114bff.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-1aefc0b4><div data-v-1aefc0b4><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1aefc0b4 data-v-1aefc0b4><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>yh-orange 学习笔记</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>Personal Website</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>yh-orange</span>
            
          <!---->
          2024
        </a></span></div></div> <div class="hide" data-v-1aefc0b4><header class="navbar" data-v-1aefc0b4><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/hero.jpg" alt="yh-orange 学习笔记" class="logo"> <span class="site-name">yh-orange 学习笔记</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/base-js/" class="nav-link"><i class="undefined"></i>
  前端基础资料
</a></div><div class="nav-item"><a href="/informal-essay/" class="nav-link"><i class="undefined"></i>
  随笔
</a></div><div class="nav-item"><a href="/front-end-engineering/" class="nav-link"><i class="undefined"></i>
  前端工程化
</a></div><div class="nav-item"><a href="/ps/" class="nav-link"><i class="undefined"></i>
  拍照修图
</a></div><div class="nav-item"><a href="/other/" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  其他资料
</a></div><div class="nav-item"><a href="/mini-program/" class="nav-link"><i class="undefined"></i>
  小程序资料
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1aefc0b4></div> <aside class="sidebar" data-v-1aefc0b4><div class="personal-info-wrapper" data-v-39576ba9 data-v-1aefc0b4><!----> <h3 class="name" data-v-39576ba9>
    yh-orange
  </h3> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>60</h3> <h6 data-v-39576ba9>Articles</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>0</h3> <h6 data-v-39576ba9>Tags</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/base-js/" class="nav-link"><i class="undefined"></i>
  前端基础资料
</a></div><div class="nav-item"><a href="/informal-essay/" class="nav-link"><i class="undefined"></i>
  随笔
</a></div><div class="nav-item"><a href="/front-end-engineering/" class="nav-link"><i class="undefined"></i>
  前端工程化
</a></div><div class="nav-item"><a href="/ps/" class="nav-link"><i class="undefined"></i>
  拍照修图
</a></div><div class="nav-item"><a href="/other/" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  其他资料
</a></div><div class="nav-item"><a href="/mini-program/" class="nav-link"><i class="undefined"></i>
  小程序资料
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>其他资料</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/other/angular.html" class="sidebar-link">angular</a></li><li><a href="/other/rxjs.html" class="sidebar-link">Rxjs</a></li><li><a href="/other/phthon.html" class="sidebar-link">phthon</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2></h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>yh-orange</span>
            
          <!---->
          2024
        </a></span></div></div> <div data-v-1aefc0b4><main class="page"><section><div class="page-title"><h1 class="title">angular</h1> <div data-v-f875f3fc><i class="iconfont reco-account" data-v-f875f3fc><span data-v-f875f3fc>yh-orange</span></i> <!----> <i class="iconfont reco-eye" data-v-f875f3fc><span id="/other/" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-f875f3fc><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="angular"><a href="#angular" class="header-anchor">#</a> angular</h1> <h2 id="angular介绍"><a href="#angular介绍" class="header-anchor">#</a> Angular介绍</h2> <p>Angular是谷歌开发的一款开源的web前端框架，诞生于2009年，由Misko Hevery 等人创建，后为Google所收购。是一款优秀的前端JS框架，已经被用于Google的多款产品当中。 根据项目数统计angular（1.x 、2.x 、4.x、5.x、6.x、7.x 、8.x、9.x）是现在网上使用量最大的框架。</p> <p>Angular基于TypeScript，和react、vue相比Angular更适合中大型企业级项目。</p> <hr> <h2 id="angular环境搭建"><a href="#angular环境搭建" class="header-anchor">#</a> Angular环境搭建</h2> <p>1、安装前准备工作：</p> <p>1.1、安装nodejs 安装angular的计算机上面必须安装最新的nodejs--注意安装nodejs稳定版本</p> <p>1.2、选择一个 命令工具， npm, cnpm, yarn ,任选其一</p> <p>设置淘宝源镜像 ，如果你用npm
<code>npm config set registry https://registry.npm.taobao.org</code></p> <p>如果你用 <code>cnpm</code> ， 安装<code>cnpm</code> <code>npm</code>可能安装失败建议先用 <code>npm</code> 安装一下 <code>cnpm</code> 用淘宝镜像安装
<code>https://npm.taobao.org/</code></p> <p><code>npm install -g cnpm --registry=https://registry.npm.taobao.org</code>或者 安装 <code>yarn</code> ,注意，只要选 一个命令工具就行</p> <p><strong>yarn</strong> <code>npm install yarn -g</code></p> <p>然后切换为淘宝源你才能感受到速度：<code>yarn config set registry https://registry.npm.taobao.org --global</code> <code>yarn config set disturl https://npm.taobao.org/dist --global</code></p> <p>好了，真的很简单，它的命令与npm几乎一样：</p> <ul><li>初始化：<code>yarn init</code></li> <li>安装一个包：<code>yarn add</code> 包名</li> <li>更新一个包：<code>yarn upgrade</code> 包名</li> <li>删除一个包：<code>yarn remove</code> 包名</li> <li>安装所有包：<code>yarn</code>或者<code>yarn install</code></li></ul> <hr> <h2 id="安装angular-cli"><a href="#安装angular-cli" class="header-anchor">#</a> 安装Angular CLI</h2> <ol><li>全局安装<strong>typescript</strong>（可选） <code>$ npm install -g typescript</code> // 新建项目的时候会自动安装<strong>typescript</strong>(非全局)所以这里也可以不用安装。</li> <li>全局安装<strong>Angular CLI</strong> <code>yarn global add @angular/cli 或者 npm install @angular/cli -g</code></li></ol> <ul><li><p>如果要卸载，执行下面命令： <code>yarn global remove @angular/cli</code>
经过不算漫长的等待，你的<strong>Angular CLI</strong>就装好了。确认一下：</p></li> <li><p>检验安装是否成功 <code>ng version</code> 或者 <code>ng v</code></p></li></ul> <hr> <h2 id="新建angular项目"><a href="#新建angular项目" class="header-anchor">#</a> 新建Angular项目</h2> <h3 id="新建angular项目-2"><a href="#新建angular项目-2" class="header-anchor">#</a> 新建Angular项目</h3> <p><code>ng new my-app</code></p> <p>如果要跳过<code>npm i</code>安装 <code>ng new my-app --skip-install</code></p> <p>趁着它在下载，来看一下运行<code>ng new</code>之后<strong>Angular cli</strong>已经帮我们干了什么：</p> <p>那么，这时候<strong>Angular cli</strong>帮你干了以下这么多事情：</p> <ul><li>创建 my-app 目录</li> <li>应用程序相关的源文件和目录将会被创建</li> <li>应用程序的所有依赖 (package.json中配置的依赖项) 将会被自动安装</li> <li>自动配置项目中的 TypeScript 开发环境</li> <li>自动配置 Karma 单元测试环境</li> <li>自动配置 Protractor (end-to-end) 测试环境</li> <li>创建 environment 相关的文件并初始化为默认的设置</li></ul> <h3 id="启动项目"><a href="#启动项目" class="header-anchor">#</a> 启动项目</h3> <p>安装完成之后就可以启动项目了：</p> <p><code>cd my-app //进入my-app</code></p> <p><code>npm start</code> 或者 <code>ng serve</code> //启服务</p> <p><code>ng serve</code>命令会启动开发服务器，监听文件变化，并在修改这些文件时重新构建此应用。 使用--open（或-o）参数可以自动打开浏览器并访问<code>http://localhost:4200/</code>。</p> <p><code>ng serve</code>命令提供了很多参数，可以适当参考。 以下参数仅供参考：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>  --dry-run: boolean, 默认为 false, 若设置 dry-run 则不会创建任何文件
  --verbose: boolean, 默认为 false
  --link-cli: boolean, 默认为 false, 自动链接到 @angular/cli 包
  --skip-install: boolean, 默认为 false, 表示跳过 npm install
  --skip-git: boolean, 默认为 false, 表示该目录不初始化为 git 仓库
  --skip-tests: boolean, 默认为 false, 表示不创建 tests 相关文件
  --skip-commit: boolean, 默认为 false, 表示不进行初始提交
  --directory: string, 用于设置创建的目录名，默认与应用程序的同名
  --source-dir: string, 默认为 'src', 用于设置源文件目录的名称
  --stylring, 默认为 'css', 用于设置选用的样式语法 ('css', 'less' or 'scss')
  --prefix: string, 默认为 'app', 用于设置创建新组件时，组件选择器使用的前缀
  --mobile: boolean, 默认为 false,表示是否生成 Progressive Web App 应用程序
  --routing: boolean, 默认为 false, 表示新增带有路由信息的模块，并添加到根模块中
  --inline-style: boolean, 默认为 false, 表示当创建新的应用程序时，使用内联样式
  --inline-template: boolean, 默认为 false, 表示当创建新的应用程序时，使用内联模板
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>其他文件：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>  .editorconfig： 给你的编辑器看的一个简单配置文件
  .gitignore： git 排除文件
  angular.json： angular cli 的配置文件
  package.json：npm 配置文件，项目使用到的第三方依赖包
  protractor.conf.js- ：运行 ng e2e 的时候会用到
  README.md：项目的基础文档
  tsconfig.json：TypeScript 编译器的配置
  tslint.json：运行 ng lint 时会用到
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><hr> <h2 id="angular-cli简单使用"><a href="#angular-cli简单使用" class="header-anchor">#</a> Angular CLI简单使用</h2> <h3 id="新建组件"><a href="#新建组件" class="header-anchor">#</a> 新建组件</h3> <p><code>ng generate component news</code></p> <ul><li>installing component</li> <li>create src/app/great-angular/news.component.css</li> <li>create src/app/great-angular/news.component.html</li> <li>create src/app/great-angular/news.component.spec.ts</li> <li>create src/app/great-angular/news.component.ts</li> <li>update src/app/app.module.ts</li></ul> <p>如你所见，Angular cli帮我们干了如下事情：</p> <ul><li><p>src/app/news 目录被创建</p></li> <li><p>news目录下会生成以下四个文件：</p></li> <li><p>CSS 样式文件，用于设置组件的样式</p></li> <li><p>HTML 模板文件，用于设置组件的模板</p></li> <li><p>TypeScript 文件，里面包含一个 组件类和组件的元信息</p></li> <li><p>Spec 文件，包含组件相关的测试用例</p></li> <li><p>news 组件会被自动地添加到 app.module.ts @NgModule 装饰器的 declarations 属性中。</p></li></ul> <h3 id="其他命令"><a href="#其他命令" class="header-anchor">#</a> 其他命令</h3> <p>Angualr CLI提供了许多常用命令供我们选择：</p> <ul><li>ng generate class my-new-class // 新建类， 新建一个名为my-new-class的类 (class)</li> <li>ng generate component my-new-component // 新建组件</li> <li>ng generate directive my-new-directive // 新建指令</li> <li>ng generate enum my-new-enum // 新建枚举</li> <li>ng generate module my-new-module // 新建模块</li> <li>ng generate pipe my-new-pipe // 新建管道</li> <li>ng generate service my-new-service // 新建服务</li></ul> <p>当然选择。。简写：</p> <ul><li>ng g cl my-new-class // 新建 class</li> <li>ng g c my-new-component // 新建组件</li> <li>ng g d my-new-directive // 新建指令</li> <li>ng g e my-new-enum // 新建枚举</li> <li>ng g m my-new-module // 新建模块</li> <li>ng g p my-new-pipe // 新建管道</li> <li>ng g s my-new-service // 新建服务</li></ul> <h3 id="单元测试"><a href="#单元测试" class="header-anchor">#</a> 单元测试</h3> <p>Angular默认帮我们集成了<code>karma</code>测试框架，我们只需要： <code>ng test</code></p> <h3 id="端到端测试"><a href="#端到端测试" class="header-anchor">#</a> 端到端测试</h3> <p><code>ng e2e</code></p> <h3 id="构建应用程序"><a href="#构建应用程序" class="header-anchor">#</a> 构建应用程序</h3> <p><code>ng build</code></p> <p>其中过程应该是这样的： Angular CLI 从 .angular-cli.json 文件中加载配置信息 Angular CLI 运行 Webpack 打包项目相关的 html、 CSS 等文件 打包后的资源，将被输出到配置文件中 outDir 所指定的目录，默认是输出到 dist 目录。</p> <hr> <h2 id="angular目录结构分析"><a href="#angular目录结构分析" class="header-anchor">#</a> Angular目录结构分析</h2> <p>app.module.ts详解、以及Angular中创建组件、组件详解、 绑定数据</p> <h3 id="目录结构分析"><a href="#目录结构分析" class="header-anchor">#</a> 目录结构分析</h3> <p>文件 说明</p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>|--E2e	应用的端对端(e2e)测试，用 Jasmine 写成并用 protractor 端对端测试运行器测试。
|--Node_modules	依赖包
|--Src	
   |--App	Angular应用文件
      |--App.module.ts	
      |---App.component.ts	
   |--assets	资源文件
   |--environments	环境配置：开发、部署
   |--index.html	应用的宿主页面。 它以特定的顺序加载一些基本脚本。 然后它启动应用，将根AppComponent放置到自定义&lt;my-app&gt;标签里。
   |--main.ts	项目的入口文件
   |--polyfills.ts	处理浏览器兼容问题
|--angular.json	Cli配置文件
|--.editorconfig	统一代码风格工具配置，不支持的需要安装插件
|--.gitignore	Git配置文件
|--karma.conf.js	在测试指南中提到的 karma 测试运行器的配置。
|--package.json	项目指定npm依赖包
|--tsconfig.app.json	Typescript编译配置
|--tsconfig.spec.json	Typescript测试编译配置
|--tsconfig.json	Typescript编译配置
|--tslint.json	Typescript语法检查器
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>详情参考：<code>https://www.angular.cn/guide/file-structure</code></p> <h3 id="app-module-ts、组件分析"><a href="#app-module-ts、组件分析" class="header-anchor">#</a> app.module.ts、组件分析</h3> <h3 id="app-module-ts"><a href="#app-module-ts" class="header-anchor">#</a> app.module.ts</h3> <p>定义 AppModule，这个根模块会告诉 Angular 如何组装该应用。 目前，它只声明了 AppComponent。 稍后它还会声明更多组件。</p> <h3 id="自定义组件"><a href="#自定义组件" class="header-anchor">#</a> 自定义组件</h3> <p>https://cli.angular.io/</p> <p>创建组件：</p> <p><code>ng g component components/header</code> 组件内容详解：</p> <h3 id="app-component-ts组件分析"><a href="#app-component-ts组件分析" class="header-anchor">#</a> app.component.ts组件分析</h3> <p>Angular应用中，模板指的的是@Component装饰器的template或templateUrl指向的HTML页面 例如：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>import { Component } from '@angular/core';
interface Course {
  id:number,
  description:string
}
@Component({
  selector: 'app-root',
  // templateUrl: './app.component.html',
  template:`
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>course<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>description<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{courseObj.description}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  `,
  styleUrls: ['./app.component.css']
})

export class AppComponent{
  title = 'ng-module-routes';
    id:number = 1;
    description:string = 'sss';
   
   public courseObj: Course = {
      id: 1,
      description: &quot;Angular For Beginners&quot;
  };
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>很明显Angular不是简单地用一个字符串来处理模板。 那么这是如何工作的？</p> <p>Angular不会生成HTML字符串，它直接生成DOM数据结构</p> <p>实际上，Angular把组件类中的数据模型应用于一个函数（DOM component renderer）。 该函数的输出是对应于此HTML模板的DOM数据结构。</p> <p>一旦数据状态发生改变，Angular数据检测器检测到，将重新调用 该DOM component renderer。</p> <p>mvvm</p> <p>Mvvm定义MVVM是Model-View-ViewModel的简写。即模型-视图-视图模型。</p> <ul><li>【模型】指的是后端传递的数据。</li> <li>【视图】指的是所看到的页面。</li> <li>【视图模型】mvvm模式的核心，它是连接view和model的桥梁。</li></ul> <p>它有两个方向：</p> <ul><li>一是将【模型】转化成【视图】，即将后端传递的数据转化成所看到的页面。实现的方式是：数据绑定。</li> <li>二是将【视图】转化成【模型】，即将所看到的页面转化成后端的数据。</li></ul> <p>实现的方式是：DOM 事件监听。这两个方向都实现的，我们称之为数据的双向绑定。</p> <h3 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h3> <p>在MVVM的框架下视图和模型是不能直接通信的。它们通过ViewModel来通信，ViewModel通常要实现一个observer观察者，当数据发生变化，ViewModel能够监听到数据的这种变化，然后通知到对应的视图做自动更新，而当用户操作视图，ViewModel也能监听到视图的变化，然后通知数据做改动，这实际上就实现了数据的双向绑定。</p> <p>并且MVVM中的View 和 ViewModel 可以互相通信。
<code>model&lt;=&gt;ViewModel&lt;=&gt;View</code></p> <hr> <h2 id="angular-组件-以及组件里面的模板"><a href="#angular-组件-以及组件里面的模板" class="header-anchor">#</a> angular 组件 以及组件里面的模板</h2> <h3 id="angular-绑定数据"><a href="#angular-绑定数据" class="header-anchor">#</a> Angular 绑定数据</h3> <h3 id="数据文本绑定"><a href="#数据文本绑定" class="header-anchor">#</a> 数据文本绑定</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code>Angular 中使用{{}}绑定业务逻辑里面定义的数据
 {{}}

 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> {{title}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
 {{userinfo.username}} {{message}} {{student}}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="angualr模板里面绑定属性"><a href="#angualr模板里面绑定属性" class="header-anchor">#</a> angualr模板里面绑定属性</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">[title]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>student<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    张三
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="angualr模板里面绑定html"><a href="#angualr模板里面绑定html" class="header-anchor">#</a> angualr模板里面绑定Html</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">[innerHTML]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>content<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="angualr模板里面允许做简单的运算"><a href="#angualr模板里面允许做简单的运算" class="header-anchor">#</a> angualr模板里面允许做简单的运算</h3> <p><code>1+2=3</code></p> <h3 id="数据循环-ngfor"><a href="#数据循环-ngfor" class="header-anchor">#</a> 数据循环 *ngFor</h3> <h4 id="ngfor-普通循环"><a href="#ngfor-普通循环" class="header-anchor">#</a> *ngFor 普通循环</h4> <div class="language-html line-numbers-mode"><pre class="language-html"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">*ngFor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>let item of list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="循环的时候设置-key"><a href="#循环的时候设置-key" class="header-anchor">#</a> 循环的时候设置 key</h4> <div class="language-html line-numbers-mode"><pre class="language-html"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">*ngFor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>let item of list;let key=index;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        {{key}}---{{item.title}}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="条件判断语句-ngif"><a href="#条件判断语句-ngif" class="header-anchor">#</a> 条件判断语句 *ngIf</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flag<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>assets/images/02.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!flag<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>assets/images/01.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">*ngFor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>let item of list;let key=index;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>  <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>key==1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{key}}---{{item.title}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>  <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>key!=1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{key}}---{{item.title}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="条件判断语句-ngswitch"><a href="#条件判断语句-ngswitch" class="header-anchor">#</a> 条件判断语句 *ngSwitch</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">[ngSwitch]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>orderStatus<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">*ngSwitchCase</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          表示已经支付
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">*ngSwitchCase</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          支付并且确认订单
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">*ngSwitchCase</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          表示已经发货
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">*ngSwitchCase</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          表示已经收货
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">*ngSwitchDefault</span><span class="token punctuation">&gt;</span></span>
        无效订单
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="属性-ngclass"><a href="#属性-ngclass" class="header-anchor">#</a> 属性<code>[ngClass]</code></h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ngClass演示 （尽量不要用dom来改变class）
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">[ngClass]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{<span class="token punctuation">'</span>blue<span class="token punctuation">'</span>:true,<span class="token punctuation">'</span>red<span class="token punctuation">'</span>:false}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ngClass演示
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">[ngClass]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{<span class="token punctuation">'</span>orange<span class="token punctuation">'</span>:flag,<span class="token punctuation">'</span>red<span class="token punctuation">'</span>:!flag}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ngClass演示
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span>循环数组，让数组的第一个元素的样式为red ,第二个为orange,第三个为blue<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">*ngFor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>let item of list;let key=index;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">[ngClass]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{<span class="token punctuation">'</span>red<span class="token punctuation">'</span>:key==0,<span class="token punctuation">'</span>orange<span class="token punctuation">'</span>:key==1,<span class="token punctuation">'</span>blue<span class="token punctuation">'</span>:key==2}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        {{key}}---{{item.title}}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="属性-ngstyle"><a href="#属性-ngstyle" class="header-anchor">#</a> 属性<code>[ngStyle]</code></h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span>red</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>我是一个p标签<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">[ngStyle]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{<span class="token punctuation">'</span>color<span class="token punctuation">'</span>:<span class="token punctuation">'</span>blue<span class="token punctuation">'</span>}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是一个p标签<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">[ngStyle]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{<span class="token punctuation">'</span>color<span class="token punctuation">'</span>: attr}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是一个p标签  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="管道"><a href="#管道" class="header-anchor">#</a> 管道</h3> <p>类似于vue2的filtter</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{{today | date:'yyyy-MM-dd HH:mm ss'}}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="执行事件-click"><a href="#执行事件-click" class="header-anchor">#</a> 执行事件(click)</h3> <p>xxx.component.html</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span>{{title}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>run()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>执行事件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>setData()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>执行方法改变属性里面的数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>runEvent($event)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>执行方法获取事件对象<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>xxx.component.ts</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>  run(){
    console.log('这是一个自定义方法')
    console.log(this.title);
  }
  setData(){
    this.title='我是一个改变后的title';
  }
  // $event
  runEvent(event){
    //ionic必须这样写
    let dom:any=event.target;
    dom.style.color=&quot;red&quot;;
  }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="表单事件-事件对象"><a href="#表单事件-事件对象" class="header-anchor">#</a> 表单事件 事件对象</h3> <p>xxx.component.ts</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>keyDown
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">(keydown)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>keyDown($event)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
keyUp:
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">(keyup)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>keyUp($event)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>xxx.component.ts</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code>  <span class="token function">keyDown</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>keyCode<span class="token operator">==</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'按了一下回车'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
      <span class="token comment">//e.target 获取dom对象</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">keyUp</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>keyCode<span class="token operator">==</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'按了一下回车'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>  
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="双向数据绑定-mvvm-只是针对表单"><a href="#双向数据绑定-mvvm-只是针对表单" class="header-anchor">#</a> 双向数据绑定--MVVM 只是针对表单</h3> <p><code>&lt;input [(ngModel)]=&quot;inputValue&quot;&gt;</code></p> <ol><li>在app.module.ts导入FormsModule</li> <li>并在imports导入</li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code>
 import { FormsModule } from '@angular/forms'; 
 ....
 imports: [  /*配置当前模块运行依赖的其他模块*/
    FormsModule
  ],
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>使用:</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">[(ngModel)]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>keywords<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
{{keywords}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeKeywords()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>改变keywords的值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><hr> <h2 id="angular的标签"><a href="#angular的标签" class="header-anchor">#</a> Angular的标签</h2> <ul><li>ng-container</li> <li>ng-content</li> <li>ng-template</li></ul> <h3 id="ng-container"><a href="#ng-container" class="header-anchor">#</a> ng-container</h3> <div class="custom-block tip"><p class="title"></p><p>它等用于vue中的<code>&lt;template&gt;&lt;/template&gt;</code>,react中的<code>&lt;&gt;&lt;/&gt;</code>, ng-container是一种特殊的元素，可以保存结构指令（比如 ng-if），而无需向DOM添加新元素。</p> <p>简而言之：ng-container标签，不会在dom中产生标签</p></div><div class="custom-block warning"><p class="title"></p><p>＜ng容器＞允许我们在没有任何额外元素的情况下使用结构指令，确保唯一应用的DOM更改是由指令本身决定的。这不仅提高了性能（甚至稍微提高了一点），因为浏览器最终呈现的元素更少，而且在拥有更干净的DOM和样式方面也是一项宝贵的资产。例如，它可以使我们能够使用结构指令，而不破坏依赖于精确DOM结构的样式（例如，我们在使用flex容器、边距、子组合选择器等时获得的样式）。</p></div><h3 id="ng-content"><a href="#ng-content" class="header-anchor">#</a> ng-content</h3> <p><strong>插槽，插入的内容，插入到指定的位置。</strong></p> <div class="custom-block warning"><p class="title"></p><p>＜ng-content＞元素指定在组件模板中投影内容的位置。</p></div><ol><li>在一个子组件里，定义具名插槽：</li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>111<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-content</span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[.card]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-content</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>333<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="2"><li>在父组件里，引入该组件app-child使用插槽，可以这么写</li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>app-child</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>card<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      222   
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>app-child</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>最终页面呈现的就是：111 222 333</p> <h3 id="ng-template"><a href="#ng-template" class="header-anchor">#</a> ng-template</h3> <div class="custom-block tip"><p class="title"></p><p>使用<code>＜ng template＞</code>，您可以定义仅当您直接或间接明确指示Angular渲染时才由Angular渲染的模板内容，从而可以完全控制内容的显示方式和时间。请注意，如果您在<code>＜ng模板＞</code>中包装内容，而不指示Angular渲染它，则此类内容不会出现在页面上。例如，请参见下面的HTML代码，当处理它时，Angular不会在短语“Hip！Hip！Hooray！”中呈现中间的“Hip”，因为周围的<code>＜ng template＞</code>。</p></div><hr> <h2 id="angular-配置文件常见配置注解"><a href="#angular-配置文件常见配置注解" class="header-anchor">#</a> Angular 配置文件常见配置注解</h2> <p>angular.json, 这个文件是整个项目的概要，包含了 不同的环境，测试、代理、第三方资源 和 众多内置工具。</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;$schema&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./node_modules/@angular/cli/lib/config/schema.json&quot;</span><span class="token punctuation">,</span> <span class="token comment">//angular-cli.json规则文件</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 指明了Angular 工作空间 概要的版本。</span>
  <span class="token property">&quot;newProjectRoot&quot;</span><span class="token operator">:</span> <span class="token string">&quot;projects&quot;</span><span class="token punctuation">,</span><span class="token comment">//定义了由CLI创建的新的内部应用和库放置的位置。默认值为`projects`</span>
  <span class="token property">&quot;projects&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token comment">//包含了工作空间中所有项目的配置信息。</span>
    <span class="token property">&quot;angularTest&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token comment">//项目配置详情(项目名称)</span>
      <span class="token property">&quot;root&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">//指定了项目文件的根文件夹，可能为空，但是它指定了一个特定的文件夹。</span>
      <span class="token property">&quot;sourceRoot&quot;</span><span class="token operator">:</span> <span class="token string">&quot;src&quot;</span><span class="token punctuation">,</span><span class="token comment">//指定了项目源文件位置</span>
      <span class="token property">&quot;projectType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application&quot;</span><span class="token punctuation">,</span><span class="token comment">//表明了 项目的状态 是 `appliaction`还是`library`。</span>
      <span class="token property">&quot;prefix&quot;</span><span class="token operator">:</span> <span class="token string">&quot;app&quot;</span><span class="token punctuation">,</span><span class="token comment">//当CLI创建 `component`或者`directive`时，使用该属性来区别他们。组件selector默认前缀</span>
      <span class="token property">&quot;schematics&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;architect&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">//自定义自动化命令</span>
        <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">//build模块配置</span>
          <span class="token property">&quot;builder&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@angular-devkit/build-angular:browser&quot;</span><span class="token punctuation">,</span><span class="token comment">//build执行的自动化程序</span>
          <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;outputPath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/angularTest&quot;</span><span class="token punctuation">,</span><span class="token comment">//编译后的输出目录，默认为dist</span>
            <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token string">&quot;src/index.html&quot;</span><span class="token punctuation">,</span> <span class="token comment">//指定首页文件，默认值为&quot;index.html&quot;</span>
            <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;src/main.ts&quot;</span><span class="token punctuation">,</span> <span class="token comment">//指定应用的入门文件</span>
            <span class="token property">&quot;polyfills&quot;</span><span class="token operator">:</span> <span class="token string">&quot;src/polyfills.ts&quot;</span><span class="token punctuation">,</span><span class="token comment">// 指定polyfill文件</span>
            <span class="token property">&quot;tsConfig&quot;</span><span class="token operator">:</span> <span class="token string">&quot;src/tsconfig.app.json&quot;</span><span class="token punctuation">,</span><span class="token comment">//指定tsconfig文件</span>
            <span class="token property">&quot;assets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">//记录资源文件夹，构建时复制到`outDir`指定的目录</span>
              <span class="token string">&quot;src/favicon.ico&quot;</span><span class="token punctuation">,</span><span class="token comment">//网站ico图标</span>
              <span class="token string">&quot;src/assets&quot;</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;styles&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token comment">//引入全局样式，构建时会打包进来，常用于第三方库引用样式</span>
              <span class="token string">&quot;src/styles.css&quot;</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">]</span><span class="token comment">// 引入全局脚本，构建时会打包进来，常用语第三方库引入的脚本</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;configurations&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">//代表这个命令的多种调用模式 </span>
            <span class="token property">&quot;production&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">//打包命令-–prod()的配置</span>
              <span class="token property">&quot;fileReplacements&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                  <span class="token property">&quot;replace&quot;</span><span class="token operator">:</span> <span class="token string">&quot;src/environments/environment.ts&quot;</span><span class="token punctuation">,</span>
                  <span class="token property">&quot;with&quot;</span><span class="token operator">:</span> <span class="token string">&quot;src/environments/environment.prod.ts&quot;</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token property">&quot;optimization&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              <span class="token property">&quot;outputHashing&quot;</span><span class="token operator">:</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;sourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              <span class="token property">&quot;extractCss&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              <span class="token property">&quot;namedChunks&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              <span class="token property">&quot;aot&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              <span class="token property">&quot;extractLicenses&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              <span class="token property">&quot;vendorChunk&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              <span class="token property">&quot;buildOptimizer&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;serve&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">//serve模块配置</span>
          <span class="token property">&quot;builder&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@angular-devkit/build-angular:dev-server&quot;</span><span class="token punctuation">,</span><span class="token comment">//serve执行的自动化程序</span>
          <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;browserTarget&quot;</span><span class="token operator">:</span> <span class="token string">&quot;angularTest:build&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;configurations&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;production&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;browserTarget&quot;</span><span class="token operator">:</span> <span class="token string">&quot;angularTest:build:production&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;extract-i18n&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;builder&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@angular-devkit/build-angular:extract-i18n&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;browserTarget&quot;</span><span class="token operator">:</span> <span class="token string">&quot;angularTest:build&quot;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;builder&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@angular-devkit/build-angular:karma&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;src/test.ts&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;polyfills&quot;</span><span class="token operator">:</span> <span class="token string">&quot;src/polyfills.ts&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;tsConfig&quot;</span><span class="token operator">:</span> <span class="token string">&quot;src/tsconfig.spec.json&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;karmaConfig&quot;</span><span class="token operator">:</span> <span class="token string">&quot;src/karma.conf.js&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;styles&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token string">&quot;src/styles.css&quot;</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;assets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token string">&quot;src/favicon.ico&quot;</span><span class="token punctuation">,</span>
              <span class="token string">&quot;src/assets&quot;</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;builder&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@angular-devkit/build-angular:tslint&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;tsConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token string">&quot;src/tsconfig.app.json&quot;</span><span class="token punctuation">,</span>
              <span class="token string">&quot;src/tsconfig.spec.json&quot;</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;exclude&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token string">&quot;**/node_modules/**&quot;</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;angularTest-e2e&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">//项目测试详细配置</span>
      <span class="token property">&quot;root&quot;</span><span class="token operator">:</span> <span class="token string">&quot;e2e/&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;projectType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;architect&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;e2e&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;builder&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@angular-devkit/build-angular:protractor&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;protractorConfig&quot;</span><span class="token operator">:</span> <span class="token string">&quot;e2e/protractor.conf.js&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;devServerTarget&quot;</span><span class="token operator">:</span> <span class="token string">&quot;angularTest:serve&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;configurations&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;production&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;devServerTarget&quot;</span><span class="token operator">:</span> <span class="token string">&quot;angularTest:serve:production&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;builder&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@angular-devkit/build-angular:tslint&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;tsConfig&quot;</span><span class="token operator">:</span> <span class="token string">&quot;e2e/tsconfig.e2e.json&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;exclude&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token string">&quot;**/node_modules/**&quot;</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;defaultProject&quot;</span><span class="token operator">:</span> <span class="token string">&quot;angularTest&quot;</span><span class="token comment">//当使用CLI命令时，`defaultProject`代表显示的名字。</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br></div></div><hr> <h2 id="组件通信"><a href="#组件通信" class="header-anchor">#</a> 组件通信</h2> <h3 id="input-父传子"><a href="#input-父传子" class="header-anchor">#</a> @input-父传子</h3> <ol><li>父组件html中：</li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Cscore-set</span> <span class="token attr-name">#Cscore</span>  <span class="token attr-name">(init3)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>init3($event)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">[(leftTreeList3)]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>leftTreeList3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Cscore-set</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>#Cscore 获取当前组件实例，类似于vue的ref</li> <li>init3 传的事件</li> <li>leftTreeList3 传的参数</li></ul> <ol start="2"><li>父组件js中：</li></ol> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code>leftTreeList3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token comment">//在constructor上面定义变量，改变量传给子组件，也可以自己使用</span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">ViewChild</span></span><span class="token punctuation">(</span><span class="token string">'Cscore'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token keyword">static</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> Cscore<span class="token punctuation">;</span> <span class="token comment">//子组件实例</span>
<span class="token comment">/**
* 左侧列表
* options为配置项
* @param options -focusedRowIndex :this.treeInstance.focusedRowIndex = -1;
* @param options -saveCreate 保存时是否为新增 :true||false
*/</span>
<span class="token keyword">async</span> <span class="token function">init3</span><span class="token punctuation">(</span>options<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//函数里怎么写却决于你的业务，这里删掉了一些业务代码，下面代码业务上不成立，仅用来展示怎么使用</span>
    <span class="token comment">//对数组中对象去重</span>
    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>item<span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        obj<span class="token punctuation">[</span>next<span class="token punctuation">.</span>BreedingID<span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> obj<span class="token punctuation">[</span>next<span class="token punctuation">.</span>BreedingID<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> item<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>leftTreeList3 <span class="token operator">=</span> res

    <span class="token comment">//调用子组件的方法</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>Cscore<span class="token punctuation">.</span><span class="token function">setDeficiencyID</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>leftTreeList3<span class="token punctuation">)</span>
    <span class="token comment">//更改子组件的变量赋值</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>Cscore<span class="token punctuation">.</span>allowDelete <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><ol start="3"><li>子组件js中：</li></ol> <ul><li>在接受leftTreeList3的值的时候，使用了@Input() set 跟函数是因为可以检测到这个变量的变化，然后赋值，函数内也可以做一些自己的业务，类似于vue的watch监听。</li> <li>@Output 用于接父组件的方法，@Output 的本质是事件机制，我们可以利用它来监听子组件上派发的事件，子组件上这样写。</li> <li>EventEmitter：在angular中组件通过定义EventEmitter 事件弹射器的方式由子组件向父组件发送数据。</li></ul> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> OnInit<span class="token punctuation">,</span> ViewChild<span class="token punctuation">,</span> Input<span class="token punctuation">,</span> OnChanges<span class="token punctuation">,</span> SimpleChanges<span class="token punctuation">,</span> Output<span class="token punctuation">,</span> EventEmitter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    selector<span class="token operator">:</span> <span class="token string">'Cscore-set'</span><span class="token punctuation">,</span>
    templateUrl<span class="token operator">:</span> <span class="token string">'./Cscore.component.html'</span><span class="token punctuation">,</span>
    styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./Cscore.component.scss'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Cscore</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">{</span>
    allowDelete<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
    leftTreeList<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">//左侧传的列表</span>
    <span class="token comment">//子接父传值，接受传值类似于watch监听,</span>
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">Input</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">set</span> <span class="token function">leftTreeList3</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>leftTreeList <span class="token operator">=</span> val
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">Output</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> init3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EventEmitter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//在class里面接收，下面变量不成立，仅作模拟</span>
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">Input</span></span><span class="token punctuation">(</span><span class="token string">'model'</span><span class="token punctuation">)</span> model<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>
        <span class="token keyword">private</span> service<span class="token operator">:</span> BreedingSetService<span class="token punctuation">,</span>
        <span class="token keyword">private</span> tokenService<span class="token operator">:</span> TokenAuthService<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">{</span>
        
    <span class="token punctuation">}</span>
     <span class="token keyword">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">//触发父组件的函数，.emit为固定的写法，括号里面为我们业务上的传值</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>init3<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token punctuation">{</span> focusedRowIndex<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="viewchild-直接调用"><a href="#viewchild-直接调用" class="header-anchor">#</a> @ViewChild-直接调用</h3> <ul><li>通过 @ViewChild父组件直接调用子组件方法或修改变量 然后就可以通过this.compDemo获取这个子组件了，</li></ul> <div class="custom-block danger"><p class="title"></p><p>注意</p> <p>需要注意的是，如果使用了*ngIf去控制该组件渲染时，this.Cscore未加载的时候调用相应的方法会报错， 这里可以开启宏任务后再去做相应业务，比如在setTimeout回调里写。</p></div><ol><li>父组件 引入<code>import { ViewChild } from '@angular/core'</code>;</li> <li>在子组件上 <code>&lt;compDemo #compDemo&gt; &lt;/compDemo&gt;</code> 加一个#号；通过#</li> <li>在父组件class内部，利用属性装饰器ViewChild，和刚才的子组件关联起来</li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code>@ViewChild('compDemo', { static: false })  compDemo: any;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="output-子调父"><a href="#output-子调父" class="header-anchor">#</a> @Output 子调父</h3> <p>子组件通过-@Output触发父组件的方法</p> <p>演示例子： 父组件：news 子组件：footer</p> <p>子组件引入 <code>Output</code> 和 <code>EventEmitter</code></p> <p><code>import { Component, OnInit ,Input,Output,EventEmitter} from '@angular/core';</code></p> <p>子组件中实例化 EventEmitter</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>@Output() 
private outer=new EventEmitter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>();
/*用 EventEmitter 和 output 装饰器配合使用 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>指定类型变量*/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>子组件通过 EventEmitter 对象 outer 实例广播数据</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>sendParent(){ 
    this.outer.emit('msg from child') 
 }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>父组件调用子组件的时候，定义接收事件,outer 就是子组件的 EventEmitter 对象 outer</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- data就是 子组件给父组件的数据  outer是定义的事件名称--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>app-footer</span> <span class="token attr-name">(outer)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getFooterRun(data)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>app-footer</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>父组件接收到数据会调用自己的 getFooterRun 方法，这个时候就能拿到子组件的数</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>//接收子组件传递过来的数据 
 getFooterRun(data){
   console.log(data);
  }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="非父子组件通讯"><a href="#非父子组件通讯" class="header-anchor">#</a> 非父子组件通讯</h3> <ol><li>公共的服务</li> <li>Localstorage(推荐)</li> <li>Cookie</li></ol> <h3 id="总结-2"><a href="#总结-2" class="header-anchor">#</a> 总结</h3> <p><strong>vue中 关于$emit的用法</strong></p> <ol><li>父组件可以使用属性把数据传给子组件，子组件通过props接受。</li> <li>子组件可以使用 $emit 触发父组件的自定义事件。</li></ol> <p>vm.$emit( event, arg ) //触发当前实例上的事件
vm.$on( event, fn );//监听event事件后运行 fn；</p> <p><strong>angular中 关于emit的用法</strong></p> <ol><li>父组件可以使用属性把数据传给子组件,子组件通过@input接受。</li> <li>子组件可以使用 Output 和 EventEmitter 触发父组件的自定义事件。</li></ol> <p>父组件</p> <p><code>&lt;app-footer (event)=&quot;getFooterRun(data)&quot;&gt;&lt;/app-footer&gt;</code></p> <p>子组件</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>@Output() 
private event=new EventEmitter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>();
/*用 EventEmitter 和 output 装饰器配合使用 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>指定类型变量*/

sendParent(){ 
    // outer 相当于是事件名称
    this.event.emit(data)  
 }

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">(event)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sendParent()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>通过@Output给父组件广播数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><hr> <h2 id="生命周期函数"><a href="#生命周期函数" class="header-anchor">#</a> 生命周期函数</h2> <p><a href="https://www.angular.cn/guide/lifecycle-hooks" target="_blank" rel="noopener noreferrer">官方文档：<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>生命周期函数通俗的讲就是组件创建、组件更新、组件销毁的时候会触发的一系列的方法。 当 Angular 使用构造函数新建一个组件或指令后，就会按下面的顺序在特定时刻调用这些 生命周期钩子方法</p> <div class="custom-block tip"><p class="title"></p><ul><li>一、constructor （非生命周期函数）</li> <li>二、ngOnChanges()</li> <li>三、ngOnInit()</li> <li>四、ngDoCheck()</li> <li>五、ngAfterContentInit()</li> <li>六、ngAfterContentChecked()</li> <li>七、ngAfterViewInit()</li> <li>八、ngAfterViewChecked()</li> <li>九、ngOnDestroy()</li></ul></div><h3 id="constructor"><a href="#constructor" class="header-anchor">#</a> constructor</h3> <p>构造函数中除了使用简单的值对局部变量进行初始化 之外，什么都不应该做。 （非生命周期函数) constructor适用场景 constructor中应该只进行依赖注入而不是进行真正的业务操作</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>import { RequestService } from '../../services/request.service';
.......
//使用构造注入方式，注入服务 
  constructor(public request:RequestService) { }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="ngonchanges"><a href="#ngonchanges" class="header-anchor">#</a> ngOnChanges()</h3> <p>当 Angular（重新）设置数据绑定输入属性时响应。 该 方法接受当前和上一属性值的 <code>SimpleChanges</code> 对象 当被绑定的输入属性的值发生变化时调用，首次调用一 定会发生在 <code>ngOnInit()</code> 之前。</p> <p><strong>当被绑定的输入属性的值发生变化时调用(父子组件传值的时候会触发)</strong></p> <h3 id="ngoninit"><a href="#ngoninit" class="header-anchor">#</a> ngOnInit()</h3> <p>在 Angular 第一次显示数据绑定和设置指令/组件的输入属性之后，初始化指令/组件。 在第一轮 ngOnChanges() 完成之后调用，只调用一次。 使用 ngOnInit() 有两个原因：</p> <p>在构造函数之后马上执行复杂的初始化逻辑
在 Angular 设置完输入属性之后，对该组件进行准备。 有经验的开发者会认同组件的构建应该很便宜和安全。
<strong>请求数据一般放在这个里面</strong></p> <h3 id="ngdocheck"><a href="#ngdocheck" class="header-anchor">#</a> ngDoCheck()</h3> <p>检测，并在发生 Angular 无法或不愿意自己检测的变化时作出反应。在每个 Angular 变更检测周期中调用， ngOnChanges() 和 ngOnInit()之后。</p> <p><strong>检测，并在发生 Angular 无法或不愿意自己检测的变化时作出反应</strong></p> <h3 id="ngaftercontentinit"><a href="#ngaftercontentinit" class="header-anchor">#</a> ngAfterContentInit()</h3> <p>当把内容投影进组件之后调用。第一次 ngDoCheck() 之 后调用，只调用一次。 <strong>当把内容投影进组件之后调用</strong></p> <h3 id="ngaftercontentchecked"><a href="#ngaftercontentchecked" class="header-anchor">#</a> ngAfterContentChecked()</h3> <p>每次完成被投影组件内容的变更检测之后调用。 ngAfterContentInit() 和每次 ngDoCheck() 之后调用。</p> <h3 id="ngafterviewinit"><a href="#ngafterviewinit" class="header-anchor">#</a> ngAfterViewInit()</h3> <p>视图加载完成以后触发的方法,初始化完组件视图及其子视图之后调用。第一次 ngAfterContentChecked()之后调用，只调用一次。 <strong>初始化完组件视图及其子视图之后调用（dom操作放在这个里面）</strong></p> <h3 id="ngafterviewchecked"><a href="#ngafterviewchecked" class="header-anchor">#</a> ngAfterViewChecked()</h3> <p>每次做完组件视图和子视图的变更检测之后调用。 ngAfterViewInit()和每次 ngAfterContentChecked() 之后 调用</p> <h3 id="ngondestroy"><a href="#ngondestroy" class="header-anchor">#</a> ngOnDestroy()</h3> <p>当 Angular 每次销毁指令/组件之前调用并清扫。在这 儿反订阅可观察对象和分离事件处理器，以防内存泄 漏。 在 Angular 销毁指令/组件之前调用。</p> <ol><li><strong>父传子的而一种方式</strong></li></ol> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>父
&lt;app-refs [block]=&quot;aaa&quot; views=&quot;aaa&quot;&gt;&lt;/app-refs&gt;
ts
public aaa=1;

子组件
@Component({
  selector: 'app-refs',
  templateUrl: './refs.component.html',
  styleUrls: ['./refs.component.less'],
  inputs: ['block','v:views'],// 定义传入的数据第一个传值，第二个是通过别名指定传入的字段
})

 public block;
 public v;

  ngOnInit(): void {
    console.log(this.block);
    console.log(this.v);
  }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><ol start="2"><li><strong>子传父的另一种方式</strong></li></ol> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>父
&lt;app-refs  (a)=&quot;onEvery($event)&quot; (b)=&quot;onFive($event)&quot;&gt;&lt;/app-refs&gt;

onEvery(e){
    console.log(e);
  }
  onFive(e){
    console.log(e);
  }
  
子

@Component({
      outputs: ['a', 'c:b']// 在子组件定义传出的数据的
})

  public a = new EventEmitter();
  public c = new EventEmitter();
  ngOnInit(): void {
      this.a.emit('333');
      this.c.emit('444');
  }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><hr> <h2 id="angular-中的数据交互-get-post"><a href="#angular-中的数据交互-get-post" class="header-anchor">#</a> Angular 中的数据交互（get,post）</h2> <ul><li><ol><li>HttpClientModule</li></ol></li> <li><ol start="2"><li>axios</li></ol></li></ul> <h3 id="angular-get-请求数据"><a href="#angular-get-请求数据" class="header-anchor">#</a> Angular get 请求数据</h3> <p>Angular5.x 以后 get、post 和和服务器交互使用的是 HttpClientModule 模块</p> <ol><li>在 app.module.ts 中引入 HttpClientModule 并注入</li></ol> <p><code>import {HttpClientModule} from '@angular/common/http'</code> <code>imports: [ BrowserModule, HttpClientModule ]</code></p> <ol start="2"><li>在用到的地方引入 HttpClient 并在构造函数声明</li></ol> <p><code>import {HttpClient} from &quot;@angular/common/http&quot;;</code> <code>constructor(public http:HttpClient) { }</code></p> <ol start="3"><li>get 请求数据</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> api <span class="token operator">=</span> <span class="token string">&quot;http://localhost:3000/info&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>api<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="angular-post-提交数据"><a href="#angular-post-提交数据" class="header-anchor">#</a> Angular post 提交数据</h3> <p>Angular5.x 以后 get、post 和和服务器交互使用的是 HttpClientModule 模块。</p> <ol><li>在 app.module.ts 中引入 HttpClientModule 并注入</li></ol> <p><code>import {HttpClientModule} from '@angular/common/http';</code> <code>imports: [ BrowserModule, HttpClientModule ]</code></p> <ol start="2"><li>在用到的地方引入 HttpClient、<strong>HttpHeaders</strong> 并在构造函数声明 HttpClient</li></ol> <p><code>import {HttpClient,HttpHeaders} from &quot;@angular/common/http&quot;;</code> <code>constructor(public http:HttpClient) { }</code></p> <ol><li>post 提交数据</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> httpOptions<span class="token operator">=</span><span class="token punctuation">{</span>  
 <span class="token literal-property property">headers</span><span class="token operator">:</span><span class="token function">newHttpHeaders</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string-property property">'Content-Type'</span><span class="token operator">:</span><span class="token string">'application/json'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> api<span class="token operator">=</span><span class="token string">&quot;http://127.0.0.1:3000/doLogin&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>api<span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">username</span><span class="token operator">:</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token string">'20'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>httpOptions<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="axios-请求数据"><a href="#axios-请求数据" class="header-anchor">#</a> axios 请求数据</h3> <ol><li><p>安装 axios yarn add axios -D</p></li> <li><p>用到的地方引入 axios import axios from 'axios';</p></li> <li><p>看文档使用</p></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user?ID=12345'</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
  <span class="token comment">//handle success </span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token punctuation">}</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
  <span class="token comment">//handle error</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token punctuation">}</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
  <span class="token comment">//always executed </span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><hr> <h2 id="angular-中的路由"><a href="#angular-中的路由" class="header-anchor">#</a> Angular 中的路由</h2> <ol><li><p>命令创建项目
<code>ng new ng-demo --skip-install</code></p></li> <li><p>创建需要的组件</p></li></ol> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>ng g component components/home
ng g component components/news
ng g component components/newscontent
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="3"><li>找到 app-routing.module.ts 配置路由
引入组件</li></ol> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>import { HomeComponent } from './components/home/home.component';
import { NewsComponent } from './components/news/news.component';
import { ProductComponent } from './components/product/product.component';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>配置路由</p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>const routes: Routes = [
  {path: 'home', component: HomeComponent},
  {path: 'news', component: NewsComponent},
  {path:'product', component:ProductComponent },
  {path: '*', redirectTo: '/home', pathMatch: 'full' }
];
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol><li>找到 app.component.html 根组件模板，配置 router-outlet 显示动态加载的路由</li></ol> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>&lt;h1&gt;
    &lt;a routerLink=&quot;/home&quot;&gt;首页&lt;/a&gt;
    &lt;a routerLink=&quot;/news&quot;&gt;新闻&lt;/a&gt;
&lt;/h1&gt;
&lt;router-outlet&gt;&lt;/router-outlet&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="routerlink-跳转页面默认路由"><a href="#routerlink-跳转页面默认路由" class="header-anchor">#</a> routerLink 跳转页面默认路由</h3> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>&lt;a routerLink=&quot;/home&quot;&gt;首页&lt;/a&gt;
&lt;a routerLink=&quot;/news&quot;&gt;新闻&lt;/a&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-txt line-numbers-mode"><pre class="language-txt"><code>//匹配不到路由的时候加载的组件 或者跳转的路由
{
    path: '**', /*任意的路由*/
    // component:HomeComponent
    redirectTo:'home'
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="routerlinkactive"><a href="#routerlinkactive" class="header-anchor">#</a> routerLinkActive</h3> <p>设置 routerLink 默认选中路由</p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>&lt;h1&gt;
  &lt;a routerLink=&quot;/home&quot; routerLinkActive=&quot;active&quot;&gt;
    首页
  &lt;/a&gt;
  &lt;a routerLink=&quot;/news&quot; routerLinkActive=&quot;active&quot;&gt;
    新闻
  &lt;/a&gt;
&lt;/h1&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-txt line-numbers-mode"><pre class="language-txt"><code>&lt;h1&gt;
    &lt;a [routerLink]=&quot;[ '/home' ]&quot; routerLinkActive=&quot;active&quot;&gt;首页&lt;/a&gt;
    &lt;a [routerLink]=&quot;[ '/news' ]&quot; routerLinkActive=&quot;active&quot;&gt;新闻&lt;/a&gt;
&lt;/h1&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><hr> <h2 id="动态路由"><a href="#动态路由" class="header-anchor">#</a> 动态路由</h2> <h3 id="问号传参"><a href="#问号传参" class="header-anchor">#</a> 问号传参</h3> <p>跳转方式，页面跳转或js跳转 问号传参的url地址显示为 …/list-item?id=1</p> <p>页面跳转 queryParams属性是固定的</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">[routerLink]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[<span class="token punctuation">'</span>/list-item<span class="token punctuation">'</span>]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">[queryParams]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{id:item.id}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{ item.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>js跳转-router为ActivatedRoute的实例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Router <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/router'</span><span class="token punctuation">;</span>

<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> <span class="token literal-property property">router</span><span class="token operator">:</span> Router</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>router<span class="token punctuation">.</span><span class="token function">navigate</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'/newscontent'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
  <span class="token literal-property property">queryParams</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'laney'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span>id
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">skipLocationChange</span><span class="token operator">:</span> <span class="token boolean">true</span> 
  <span class="token comment">//可以不写，默认为false,设为true时路由跳转浏览器中的url会保持不变，传入的参数依然有效</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>获取参数方式</p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>import { ActivatedRoute } from '@angular/router';

constructor(public route:ActivatedRoute) { }
ngOnInit() { 
    this.route.queryParams.subscribe((data)=&gt;{
      console.log(data);
 })
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="路径传参"><a href="#路径传参" class="header-anchor">#</a> 路径传参</h3> <p>路径传参的url地址显示为 …/list-item/1</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- 页面跳转 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">[routerLink]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[<span class="token punctuation">'</span>/list-item<span class="token punctuation">'</span>, item.id]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{ item.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>js跳转-router为ActivatedRoute的实例</p> <p><code>this.router.navigate(['/list-item', item.id]);</code></p> <p>路径配置： <code>{path: 'list-item/:id', component: ListItemComponent}</code></p> <p>获取参数方式</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>route<span class="token punctuation">.</span>params<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>
  <span class="token parameter">param</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token operator">=</span> param<span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><hr> <h2 id="父子路由"><a href="#父子路由" class="header-anchor">#</a> 父子路由</h2> <ol><li>创建组件引入组件</li></ol> <p>import { WelcomeComponent } from './components/home/welcome/welcome.component';
import { SettingComponent } from './components/home/setting/setting.component';</p> <ol start="2"><li>配置路由</li></ol> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>{
    path:'home',
    component:HomeComponent,
    children:[{
      path:'welcome',
      component:WelcomeComponent
    },{
      path:'setting',
      component:SettingComponent
    },
    {path: '**', redirectTo: 'welcome'}
  ]
},
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ol start="3"><li>父组件中定义router-outlet
<code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code></li></ol> <hr> <h2 id="angular-内置模块"><a href="#angular-内置模块" class="header-anchor">#</a> Angular 内置模块</h2> <p><img src="/images/angular.png" alt="Angular 内置模块"></p> <hr> <h2 id="angular-自定义模块"><a href="#angular-自定义模块" class="header-anchor">#</a> Angular 自定义模块</h2> <p>当我们项目比较小的时候可以不用自定义模块。但是当我们项目非常庞大的时候把所有的组件都挂载到根模块里面不是特别合适。所以这个时候我们就可以自定义模块来组织我们的项目。并且通过 Angular自定义模块可以实现路由的懒加载。</p> <p><code>ng g module mymodule</code> <img src="/images/angular2.png" alt="Angular 内置模块"></p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>新建一个 user 模块
ng g module module/user

新建一个 user 模块下的根组件
ng g component module/user

新建一个 user 模块下的 address,order,profile 组件
ng g component module/user/components/address
ng g component module/user/components/order
ng g component module/user/components/profile
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="ngmodule的理解"><a href="#ngmodule的理解" class="header-anchor">#</a> @NgModule的理解</h3> <div class="custom-block warning"><p class="title"></p><p>举例说明，如果一个angular应用是一个公司，那么AppModule就是这个公司。AppComponent就是这个公司的一个工厂，公司可以有很多个工厂。declearation数组里面的元素就是组成工厂的一部分，比如生产车间、人员管理系统等。imports数组就像是工厂请来的外援，专业性比较强。providers数组就像是后勤部门，提供各种服务。</p></div><p>Angular的基本构造块就是NgModule，它会把一部分的代码整合在一起，可以看做一个一个的单元块，在使用脚手架搭建Angular项目时，会自动的生成一个根目录模块AppModule，根模块有一个根组件AppComponent，引导这个根模块就可以启动应用了，Angular应用是模块化的，每一个模块都可以根据需求去包含任意的组件。</p> <ul><li><p><code>providers</code>：将本模块所有在组件中注入的服务(接口)，在这里提前定义好，否则在此模块中使用这个服务会有错误提示。</p></li> <li><p><code>declaration</code>：声明一些模块中要使用到的一些组件，指令，管道等。</p></li> <li><p><code>imports</code>：导入一些模块，比如说我把所有的指令构成一个模块 我使用其中某些指令的时候，我可以选择导入整个指令模块。也可以导入一些通过npm install 安装的一些模块导入其中，才可以使用。</p></li> <li><p><code>exports</code>：导出组件or指令管道等，以供引用此模块的模块可以使用此模块的组件or 指令管道等。</p></li> <li><p><code>exporyComponents</code>：entry component 表示 angular 的入口组件，可以引导组件是一个入口组件，Angular 会在引导过程中把它加载到 DOM 中。 其它入口组件是在其它时机动态加载的。字面上的意义，但是啥时候用呢，比如，我要弹出一个组件，那么这个组件是要动态加载到DOM中了吧，这个时候就需要将这个组件xxxComponent写上了。</p></li> <li><p><code>bootstrap</code>:这个模块启动的时候应该启动的组件，上面代码可以看到AppModule是作为根模块的启动组件。</p></li> <li><p><code>schemas</code>：不属于Angular的组件或者指令的元素或者属性都需要在这里进行声明。</p></li></ul> <p><strong>以下为我平时开发时写的代码举例</strong> <code>breeding-set.module.ts</code></p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>import { NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';
import { BreedingSettingComponent } from './breeding-set.component';
import { inheritance } from './Ainheritance/inheritance.component';
import { Cscore } from './Cscore/Cscore.component';
import { Bchoice } from './Bchoice/Bchoice.component';
import { TypeSettingRoutingModule } from './breeding-set.routing';
import {
    DxTreeViewModule,
    DxFormModule,
    DxToolbarModule,
    DxButtonModule,
    DxTreeListModule,
    DxTextAreaModule,
    DxRadioGroupModule,
    DxSelectBoxModule,
    DxValidationGroupModule,
    DxDateBoxModule,
    DxPopupModule,
    DxDataGridModule,
    DxValidatorModule,
    DxDropDownBoxModule,
    DxTagBoxModule,
} from 'devextreme-angular';
import { BreedingSetService } from './breeding-set.service';
import { TranslateModule } from 'src/app/providers/i18n-translate';
@NgModule({
    imports: [// 用来导入外部模块
        CommonModule,
        TypeSettingRoutingModule,
        DxTreeViewModule,
        DxFormModule,
        DxToolbarModule,
        DxButtonModule,
        DxTreeListModule,
        DxTextAreaModule,
        DxRadioGroupModule,
        TranslateModule,
        DxSelectBoxModule,
        DxValidationGroupModule,
        DxDateBoxModule,
        DxPopupModule,
        DxDataGridModule,
        DxValidatorModule,
        DxTagBoxModule,
        DxDropDownBoxModule,
    ],
    declarations: [BreedingSettingComponent, inheritance, Cscore, Bchoice],// 用来放组件、指令、管道的声明
    providers: [BreedingSetService],// 需要使用的 Service(接口)
})
export class BreedingSetModule { }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><hr> <h2 id="配置路由实现模块懒加载"><a href="#配置路由实现模块懒加载" class="header-anchor">#</a> 配置路由实现模块懒加载</h2> <p><img src="/images/angular2.png" alt="Angular 内置模块"></p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>创建模块：
ng g module module/user --routing
ng g module module/article --routing
ng g module module/product --routing

创建组件：
ng g component module/user
ng g component module/user/components/profile
ng g component module/user/components/order

ng g component module/article
ng g component module/article/components/articlelist ng g component module/article/components/info

ng g component module/product
ng g component module/product/components/plist
ng g component module/product/components/pinfo
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="angular配置懒加载"><a href="#angular配置懒加载" class="header-anchor">#</a> angular配置懒加载</h3> <p>在angular中路由即能加载组件又能加载模块，而我们说的懒加载实际上就是加载模块，目前还没有看到懒加载组件的例子。 加载组件使用的是component关键字 加载模块则是使用loadChildren关键字</p> <p><img src="/images/angular2.png" alt="Angular 内置模块"></p> <ol><li><strong>在app文件夹下 新建 app-routing.module.ts</strong>
内容如下：</li></ol> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>import { NgModule } from '@angular/core';
import { Routes, RouterModule } from '@angular/router';
@NgModule({
  imports: [RouterModule.forRoot(routes)],
  exports: [RouterModule]
})
export class AppRoutingModule { }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>forRoot是用在根模块加载路由配置， 而forChild是用在子模块加载路由配置。</p> <p>注意：需要在根模板 app.module.ts里导入AppRoutingModule模块</p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>import { AppRoutingModule } from './app-routing.module';
...
imports: [
    AppRoutingModule,
]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="2"><li><strong>在子模块里配置路由</strong></li></ol> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>import { NgModule } from '@angular/core';
import { Routes, RouterModule } from '@angular/router';

// import {ArticleComponent} from './article.component';
const routes: Routes = [
// {
//     path:'',
//     component:ArticleComponent
// }
];

@NgModule({
  imports: [RouterModule.forChild(routes)],
  exports: [RouterModule]
})
export class ArticleRoutingModule { }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>也可以在新建项目的时候 就把路由的模块加上，可以省去上面的配置</p> <p><strong>在 article模块的 article-routing.module.ts配置路由</strong></p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>
import {ArticleComponent} from './article.component';
const routes: Routes = [
  {
    path:'',
    component:ArticleComponent
  }
];
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ol start="3"><li><strong>在app的路由模块进行配置路由</strong></li></ol> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>const routes: Routes = [
  {
    path:'article',
    //写法一：
    loadChildren:'./module/article/article.module#ArticleModule'

    //写法二
    // loadChildren: () =&gt; import('./module/user/user.module').then( m =&gt; m.UserModule)  
  },
  // {
  //   path:'user',loadChildren:'./module/user/user.module#UserModule'
  // },
  // {
  //   path:'product',loadChildren:'./module/product/product.module#ProductModule'
  // },
  {
    path:'**',redirectTo:'article'
  }
];
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>如果在之前新建模块的时候没有加上--routing,，需要配置模块的路由</strong></p> <p><strong>product模块</strong> product的路由：module\product\product-routing.module.ts</p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>import { NgModule } from '@angular/core';
import { Routes, RouterModule } from '@angular/router';

import {ProductComponent} from './product.component';
const routes: Routes = [
  {
    path:'',
    component:ProductComponent
  }
];

@NgModule({
  imports: [RouterModule.forChild(routes)],
  exports: [RouterModule]
})
export class ProductRoutingModule { }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>product的模块：</strong></p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>import { ProductRoutingModule } from './product-routing.module';

imports: [
    ProductRoutingModule
  ],
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>user模块</strong></p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>import { NgModule } from '@angular/core';
import { Routes, RouterModule } from '@angular/router';

import {UserComponent} from './user.component';
const routes: Routes = [
  {
    path:'',
    component:UserComponent
  }
];

@NgModule({
  imports: [RouterModule.forChild(routes)],
  exports: [RouterModule]
})
export class UserRoutingModule { }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>user的模块</strong></p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>import {UserRoutingModule} from './user-routing.module';  +

 imports: [
    UserRoutingModule
  ],
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>RouterModule.forRoot() 和 RouterModule.forChild()</strong></p> <p>RouterModule对象为提供了两个静态的方法:forRoot()和forChild()来配置路由信息。</p> <p>RouterModule.forRoot()方法用于在主模块中定义主要的路由信息，RouterModule.forChild()与 Router.forRoot()方法类似，但它只能应用在特性模块中。</p> <p>即根模块中使用forRoot()，子模块中使用forChild()。</p> <h3 id="配置子路由"><a href="#配置子路由" class="header-anchor">#</a> 配置子路由</h3> <ol><li>在商品模块的路由product-routing.module.ts 配置子路由</li></ol> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>
import { PlistComponent } from './components/plist/plist.component';
import { CartComponent } from './components/cart/cart.component';
import { PinfoComponent } from './components/pinfo/pinfo.component';

const routes: Routes = [
  {
    path:'',
    component:ProductComponent,
    children:[
      {path:'cart',component:CartComponent},
      {path:'pcontent',component:PinfoComponent}
    ]
  },
  {path:'plist',component:PlistComponent}
];
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ol start="2"><li>在商品模块的模板product.component.html 添加router-outlet</li></ol> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>&lt;router-outlet&gt;&lt;/router-outlet&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li>在页面app.component.html添加菜单，方便跳转</li></ol> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>&lt;a [routerLink]=&quot;['/product']&quot;&gt;商品模块&lt;/a&gt;
&lt;a [routerLink]=&quot;['/product/plist']&quot;&gt;商品列表&lt;/a&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><hr> <h2 id="ngxs-状态管理"><a href="#ngxs-状态管理" class="header-anchor">#</a> Ngxs 状态管理</h2> <p>https://www.jianshu.com/p/f343b8bca096</p> <p>https://blog.csdn.net/roamingcode/article/details/84568140</p> <p>https://blog.csdn.net/fen747042796/article/details/74840844</p> <h3 id="问题-the-pipe-async-could-not-be-found"><a href="#问题-the-pipe-async-could-not-be-found" class="header-anchor">#</a> 问题： The pipe 'async' could not be found？</h3> <p>@NgModule 的申明没有被子模块继承， 如果你在子模块中需要管道 pipe , directives, components, 在子模块里应该 再次导入需要的模块</p> <p>这个 <code>pipes</code> 都是来自于 <code>CommonModule</code></p> <p><code>import { CommonModule } from '@angular/common';</code></p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>
import { CommonModule } from '@angular/common';

@NgModule({
  imports: [ CommonModule ]
})

class ArticleModule {}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>为什么在 app.component组件可以工作， 是因为 你已经导入了 BrowserModule ，BrowserModule又重新导出了 CommonModule， 所以只需要导入 BrowserModule 就间接的导入了 CommonModule</p> <p>同样值得注意的是，CommonModule也有核心指令，比如ngFor和ngIf。因此，如果您有一个使用这些功能的功能模块，则还需要将CommonModule导入该模块</p></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">9/9/2024, 5:51:09 PM</span></div></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/other/#angular介绍" class="sidebar-link reco-side-angular介绍" data-v-cb1513f6>Angular介绍</a></li><li class="level-2" data-v-cb1513f6><a href="/other/#angular环境搭建" class="sidebar-link reco-side-angular环境搭建" data-v-cb1513f6>Angular环境搭建</a></li><li class="level-2" data-v-cb1513f6><a href="/other/#安装angular-cli" class="sidebar-link reco-side-安装angular-cli" data-v-cb1513f6>安装Angular CLI</a></li><li class="level-2" data-v-cb1513f6><a href="/other/#新建angular项目" class="sidebar-link reco-side-新建angular项目" data-v-cb1513f6>新建Angular项目</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#新建angular项目-2" class="sidebar-link reco-side-新建angular项目-2" data-v-cb1513f6>新建Angular项目</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#启动项目" class="sidebar-link reco-side-启动项目" data-v-cb1513f6>启动项目</a></li><li class="level-2" data-v-cb1513f6><a href="/other/#angular-cli简单使用" class="sidebar-link reco-side-angular-cli简单使用" data-v-cb1513f6>Angular CLI简单使用</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#新建组件" class="sidebar-link reco-side-新建组件" data-v-cb1513f6>新建组件</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#其他命令" class="sidebar-link reco-side-其他命令" data-v-cb1513f6>其他命令</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#单元测试" class="sidebar-link reco-side-单元测试" data-v-cb1513f6>单元测试</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#端到端测试" class="sidebar-link reco-side-端到端测试" data-v-cb1513f6>端到端测试</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#构建应用程序" class="sidebar-link reco-side-构建应用程序" data-v-cb1513f6>构建应用程序</a></li><li class="level-2" data-v-cb1513f6><a href="/other/#angular目录结构分析" class="sidebar-link reco-side-angular目录结构分析" data-v-cb1513f6>Angular目录结构分析</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#目录结构分析" class="sidebar-link reco-side-目录结构分析" data-v-cb1513f6>目录结构分析</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#app-module-ts、组件分析" class="sidebar-link reco-side-app-module-ts、组件分析" data-v-cb1513f6>app.module.ts、组件分析</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#app-module-ts" class="sidebar-link reco-side-app-module-ts" data-v-cb1513f6>app.module.ts</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#自定义组件" class="sidebar-link reco-side-自定义组件" data-v-cb1513f6>自定义组件</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#app-component-ts组件分析" class="sidebar-link reco-side-app-component-ts组件分析" data-v-cb1513f6>app.component.ts组件分析</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#总结" class="sidebar-link reco-side-总结" data-v-cb1513f6>总结</a></li><li class="level-2" data-v-cb1513f6><a href="/other/#angular-组件-以及组件里面的模板" class="sidebar-link reco-side-angular-组件-以及组件里面的模板" data-v-cb1513f6>angular 组件 以及组件里面的模板</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#angular-绑定数据" class="sidebar-link reco-side-angular-绑定数据" data-v-cb1513f6>Angular 绑定数据</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#数据文本绑定" class="sidebar-link reco-side-数据文本绑定" data-v-cb1513f6>数据文本绑定</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#angualr模板里面绑定属性" class="sidebar-link reco-side-angualr模板里面绑定属性" data-v-cb1513f6>angualr模板里面绑定属性</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#angualr模板里面绑定html" class="sidebar-link reco-side-angualr模板里面绑定html" data-v-cb1513f6>angualr模板里面绑定Html</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#angualr模板里面允许做简单的运算" class="sidebar-link reco-side-angualr模板里面允许做简单的运算" data-v-cb1513f6>angualr模板里面允许做简单的运算</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#数据循环-ngfor" class="sidebar-link reco-side-数据循环-ngfor" data-v-cb1513f6>数据循环 *ngFor</a></li><li class="level-4" data-v-cb1513f6><a href="/other/#ngfor-普通循环" class="sidebar-link reco-side-ngfor-普通循环" data-v-cb1513f6>*ngFor 普通循环</a></li><li class="level-4" data-v-cb1513f6><a href="/other/#循环的时候设置-key" class="sidebar-link reco-side-循环的时候设置-key" data-v-cb1513f6>循环的时候设置 key</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#条件判断语句-ngif" class="sidebar-link reco-side-条件判断语句-ngif" data-v-cb1513f6>条件判断语句 *ngIf</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#条件判断语句-ngswitch" class="sidebar-link reco-side-条件判断语句-ngswitch" data-v-cb1513f6>条件判断语句 *ngSwitch</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#属性-ngclass" class="sidebar-link reco-side-属性-ngclass" data-v-cb1513f6>属性[ngClass]</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#属性-ngstyle" class="sidebar-link reco-side-属性-ngstyle" data-v-cb1513f6>属性[ngStyle]</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#管道" class="sidebar-link reco-side-管道" data-v-cb1513f6>管道</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#执行事件-click" class="sidebar-link reco-side-执行事件-click" data-v-cb1513f6>执行事件(click)</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#表单事件-事件对象" class="sidebar-link reco-side-表单事件-事件对象" data-v-cb1513f6>表单事件 事件对象</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#双向数据绑定-mvvm-只是针对表单" class="sidebar-link reco-side-双向数据绑定-mvvm-只是针对表单" data-v-cb1513f6>双向数据绑定--MVVM 只是针对表单</a></li><li class="level-2" data-v-cb1513f6><a href="/other/#angular的标签" class="sidebar-link reco-side-angular的标签" data-v-cb1513f6>Angular的标签</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#ng-container" class="sidebar-link reco-side-ng-container" data-v-cb1513f6>ng-container</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#ng-content" class="sidebar-link reco-side-ng-content" data-v-cb1513f6>ng-content</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#ng-template" class="sidebar-link reco-side-ng-template" data-v-cb1513f6>ng-template</a></li><li class="level-2" data-v-cb1513f6><a href="/other/#angular-配置文件常见配置注解" class="sidebar-link reco-side-angular-配置文件常见配置注解" data-v-cb1513f6>Angular 配置文件常见配置注解</a></li><li class="level-2" data-v-cb1513f6><a href="/other/#组件通信" class="sidebar-link reco-side-组件通信" data-v-cb1513f6>组件通信</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#input-父传子" class="sidebar-link reco-side-input-父传子" data-v-cb1513f6>@input-父传子</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#viewchild-直接调用" class="sidebar-link reco-side-viewchild-直接调用" data-v-cb1513f6>@ViewChild-直接调用</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#output-子调父" class="sidebar-link reco-side-output-子调父" data-v-cb1513f6>@Output 子调父</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#非父子组件通讯" class="sidebar-link reco-side-非父子组件通讯" data-v-cb1513f6>非父子组件通讯</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#总结-2" class="sidebar-link reco-side-总结-2" data-v-cb1513f6>总结</a></li><li class="level-2" data-v-cb1513f6><a href="/other/#生命周期函数" class="sidebar-link reco-side-生命周期函数" data-v-cb1513f6>生命周期函数</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#constructor" class="sidebar-link reco-side-constructor" data-v-cb1513f6>constructor</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#ngonchanges" class="sidebar-link reco-side-ngonchanges" data-v-cb1513f6>ngOnChanges()</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#ngoninit" class="sidebar-link reco-side-ngoninit" data-v-cb1513f6>ngOnInit()</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#ngdocheck" class="sidebar-link reco-side-ngdocheck" data-v-cb1513f6>ngDoCheck()</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#ngaftercontentinit" class="sidebar-link reco-side-ngaftercontentinit" data-v-cb1513f6>ngAfterContentInit()</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#ngaftercontentchecked" class="sidebar-link reco-side-ngaftercontentchecked" data-v-cb1513f6>ngAfterContentChecked()</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#ngafterviewinit" class="sidebar-link reco-side-ngafterviewinit" data-v-cb1513f6>ngAfterViewInit()</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#ngafterviewchecked" class="sidebar-link reco-side-ngafterviewchecked" data-v-cb1513f6>ngAfterViewChecked()</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#ngondestroy" class="sidebar-link reco-side-ngondestroy" data-v-cb1513f6>ngOnDestroy()</a></li><li class="level-2" data-v-cb1513f6><a href="/other/#angular-中的数据交互-get-post" class="sidebar-link reco-side-angular-中的数据交互-get-post" data-v-cb1513f6>Angular 中的数据交互（get,post）</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#angular-get-请求数据" class="sidebar-link reco-side-angular-get-请求数据" data-v-cb1513f6>Angular get 请求数据</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#angular-post-提交数据" class="sidebar-link reco-side-angular-post-提交数据" data-v-cb1513f6>Angular post 提交数据</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#axios-请求数据" class="sidebar-link reco-side-axios-请求数据" data-v-cb1513f6>axios 请求数据</a></li><li class="level-2" data-v-cb1513f6><a href="/other/#angular-中的路由" class="sidebar-link reco-side-angular-中的路由" data-v-cb1513f6>Angular 中的路由</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#routerlink-跳转页面默认路由" class="sidebar-link reco-side-routerlink-跳转页面默认路由" data-v-cb1513f6>routerLink 跳转页面默认路由</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#routerlinkactive" class="sidebar-link reco-side-routerlinkactive" data-v-cb1513f6>routerLinkActive</a></li><li class="level-2" data-v-cb1513f6><a href="/other/#动态路由" class="sidebar-link reco-side-动态路由" data-v-cb1513f6>动态路由</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#问号传参" class="sidebar-link reco-side-问号传参" data-v-cb1513f6>问号传参</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#路径传参" class="sidebar-link reco-side-路径传参" data-v-cb1513f6>路径传参</a></li><li class="level-2" data-v-cb1513f6><a href="/other/#父子路由" class="sidebar-link reco-side-父子路由" data-v-cb1513f6>父子路由</a></li><li class="level-2" data-v-cb1513f6><a href="/other/#angular-内置模块" class="sidebar-link reco-side-angular-内置模块" data-v-cb1513f6>Angular 内置模块</a></li><li class="level-2" data-v-cb1513f6><a href="/other/#angular-自定义模块" class="sidebar-link reco-side-angular-自定义模块" data-v-cb1513f6>Angular 自定义模块</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#ngmodule的理解" class="sidebar-link reco-side-ngmodule的理解" data-v-cb1513f6>@NgModule的理解</a></li><li class="level-2" data-v-cb1513f6><a href="/other/#配置路由实现模块懒加载" class="sidebar-link reco-side-配置路由实现模块懒加载" data-v-cb1513f6>配置路由实现模块懒加载</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#angular配置懒加载" class="sidebar-link reco-side-angular配置懒加载" data-v-cb1513f6>angular配置懒加载</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#配置子路由" class="sidebar-link reco-side-配置子路由" data-v-cb1513f6>配置子路由</a></li><li class="level-2" data-v-cb1513f6><a href="/other/#ngxs-状态管理" class="sidebar-link reco-side-ngxs-状态管理" data-v-cb1513f6>Ngxs 状态管理</a></li><li class="level-3" data-v-cb1513f6><a href="/other/#问题-the-pipe-async-could-not-be-found" class="sidebar-link reco-side-问题-the-pipe-async-could-not-be-found" data-v-cb1513f6>问题： The pipe 'async' could not be found？</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><canvas id="vuepress-canvas-cursor"></canvas></div></div>
    <script src="/assets/js/app.ab7ccc71.js" defer></script><script src="/assets/js/3.4edb9727.js" defer></script><script src="/assets/js/1.8fa44146.js" defer></script><script src="/assets/js/74.b146fd8c.js" defer></script>
  </body>
</html>
