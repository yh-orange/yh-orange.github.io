<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端工程化部分 | yh-orange 学习笔记</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/images/icon.png">
    <meta name="description" content="Personal Website">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.31114bff.css" as="style"><link rel="preload" href="/assets/js/app.ab7ccc71.js" as="script"><link rel="preload" href="/assets/js/3.4edb9727.js" as="script"><link rel="preload" href="/assets/js/1.8fa44146.js" as="script"><link rel="preload" href="/assets/js/56.833ab305.js" as="script"><link rel="prefetch" href="/assets/js/10.117c3e7a.js"><link rel="prefetch" href="/assets/js/11.92bc9c31.js"><link rel="prefetch" href="/assets/js/12.f9afe2d3.js"><link rel="prefetch" href="/assets/js/13.814b4335.js"><link rel="prefetch" href="/assets/js/14.07ec2310.js"><link rel="prefetch" href="/assets/js/15.75624940.js"><link rel="prefetch" href="/assets/js/16.1b7695b0.js"><link rel="prefetch" href="/assets/js/17.3ebd7f2b.js"><link rel="prefetch" href="/assets/js/18.74427907.js"><link rel="prefetch" href="/assets/js/19.6afca700.js"><link rel="prefetch" href="/assets/js/20.62ea23cc.js"><link rel="prefetch" href="/assets/js/21.2a1e282a.js"><link rel="prefetch" href="/assets/js/22.3e86ef0c.js"><link rel="prefetch" href="/assets/js/23.86990ac5.js"><link rel="prefetch" href="/assets/js/24.901bce47.js"><link rel="prefetch" href="/assets/js/25.1dd59c95.js"><link rel="prefetch" href="/assets/js/26.d382260a.js"><link rel="prefetch" href="/assets/js/27.4f928d65.js"><link rel="prefetch" href="/assets/js/28.3b826946.js"><link rel="prefetch" href="/assets/js/29.6c5a6671.js"><link rel="prefetch" href="/assets/js/30.236895e5.js"><link rel="prefetch" href="/assets/js/31.b8047fdd.js"><link rel="prefetch" href="/assets/js/32.1d2b663c.js"><link rel="prefetch" href="/assets/js/33.a3528f35.js"><link rel="prefetch" href="/assets/js/34.03511400.js"><link rel="prefetch" href="/assets/js/35.de42440a.js"><link rel="prefetch" href="/assets/js/36.0fc211d4.js"><link rel="prefetch" href="/assets/js/37.26759b23.js"><link rel="prefetch" href="/assets/js/38.588a7518.js"><link rel="prefetch" href="/assets/js/39.15e5c940.js"><link rel="prefetch" href="/assets/js/4.e9ad93dd.js"><link rel="prefetch" href="/assets/js/40.c97b3712.js"><link rel="prefetch" href="/assets/js/41.303f2a45.js"><link rel="prefetch" href="/assets/js/42.73ca30bd.js"><link rel="prefetch" href="/assets/js/43.953b4c7c.js"><link rel="prefetch" href="/assets/js/44.6792b66b.js"><link rel="prefetch" href="/assets/js/45.0c7776f3.js"><link rel="prefetch" href="/assets/js/46.c0458285.js"><link rel="prefetch" href="/assets/js/47.926765f5.js"><link rel="prefetch" href="/assets/js/48.8fa5c2c8.js"><link rel="prefetch" href="/assets/js/49.7495e132.js"><link rel="prefetch" href="/assets/js/5.4c32532b.js"><link rel="prefetch" href="/assets/js/50.d63aadc0.js"><link rel="prefetch" href="/assets/js/51.9a363be7.js"><link rel="prefetch" href="/assets/js/52.28410924.js"><link rel="prefetch" href="/assets/js/53.acc6026d.js"><link rel="prefetch" href="/assets/js/54.e030fc14.js"><link rel="prefetch" href="/assets/js/55.0b081e5c.js"><link rel="prefetch" href="/assets/js/57.b1608b93.js"><link rel="prefetch" href="/assets/js/58.be51ba8c.js"><link rel="prefetch" href="/assets/js/59.aec83a30.js"><link rel="prefetch" href="/assets/js/6.132c57c0.js"><link rel="prefetch" href="/assets/js/60.08ff5ee8.js"><link rel="prefetch" href="/assets/js/61.94a50c42.js"><link rel="prefetch" href="/assets/js/62.b2db71be.js"><link rel="prefetch" href="/assets/js/63.2a0181c3.js"><link rel="prefetch" href="/assets/js/64.7f023a4a.js"><link rel="prefetch" href="/assets/js/65.17b400ef.js"><link rel="prefetch" href="/assets/js/66.794f64c3.js"><link rel="prefetch" href="/assets/js/67.ce97d267.js"><link rel="prefetch" href="/assets/js/68.12100ad3.js"><link rel="prefetch" href="/assets/js/69.31abf334.js"><link rel="prefetch" href="/assets/js/7.49a9a74a.js"><link rel="prefetch" href="/assets/js/70.dcd9c229.js"><link rel="prefetch" href="/assets/js/71.6eb3c080.js"><link rel="prefetch" href="/assets/js/72.741c9df7.js"><link rel="prefetch" href="/assets/js/73.30fe6803.js"><link rel="prefetch" href="/assets/js/74.b146fd8c.js"><link rel="prefetch" href="/assets/js/75.b3e38e76.js"><link rel="prefetch" href="/assets/js/76.73926b71.js"><link rel="prefetch" href="/assets/js/77.65ea9d49.js"><link rel="prefetch" href="/assets/js/78.1d532daa.js"><link rel="prefetch" href="/assets/js/79.07ccc890.js"><link rel="prefetch" href="/assets/js/8.17f9c4ab.js"><link rel="prefetch" href="/assets/js/9.71be61be.js">
    <link rel="stylesheet" href="/assets/css/0.styles.31114bff.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-1aefc0b4><div data-v-1aefc0b4><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1aefc0b4 data-v-1aefc0b4><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>yh-orange 学习笔记</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>Personal Website</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>yh-orange</span>
            
          <!---->
          2024
        </a></span></div></div> <div class="hide" data-v-1aefc0b4><header class="navbar" data-v-1aefc0b4><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/hero.jpg" alt="yh-orange 学习笔记" class="logo"> <span class="site-name">yh-orange 学习笔记</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/base-js/" class="nav-link"><i class="undefined"></i>
  前端基础资料
</a></div><div class="nav-item"><a href="/informal-essay/" class="nav-link router-link-active"><i class="undefined"></i>
  随笔
</a></div><div class="nav-item"><a href="/front-end-engineering/" class="nav-link"><i class="undefined"></i>
  前端工程化
</a></div><div class="nav-item"><a href="/ps/" class="nav-link"><i class="undefined"></i>
  拍照修图
</a></div><div class="nav-item"><a href="/other/" class="nav-link"><i class="undefined"></i>
  其他资料
</a></div><div class="nav-item"><a href="/mini-program/" class="nav-link"><i class="undefined"></i>
  小程序资料
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1aefc0b4></div> <aside class="sidebar" data-v-1aefc0b4><div class="personal-info-wrapper" data-v-39576ba9 data-v-1aefc0b4><!----> <h3 class="name" data-v-39576ba9>
    yh-orange
  </h3> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>60</h3> <h6 data-v-39576ba9>Articles</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>0</h3> <h6 data-v-39576ba9>Tags</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/base-js/" class="nav-link"><i class="undefined"></i>
  前端基础资料
</a></div><div class="nav-item"><a href="/informal-essay/" class="nav-link router-link-active"><i class="undefined"></i>
  随笔
</a></div><div class="nav-item"><a href="/front-end-engineering/" class="nav-link"><i class="undefined"></i>
  前端工程化
</a></div><div class="nav-item"><a href="/ps/" class="nav-link"><i class="undefined"></i>
  拍照修图
</a></div><div class="nav-item"><a href="/other/" class="nav-link"><i class="undefined"></i>
  其他资料
</a></div><div class="nav-item"><a href="/mini-program/" class="nav-link"><i class="undefined"></i>
  小程序资料
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>随笔-零碎学习记录</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/informal-essay/" aria-current="page" class="sidebar-link">零碎</a></li><li><a href="/informal-essay/qian-duan-qi-qi-guai-guai-de-ji-shu.html" class="sidebar-link">前端奇奇怪怪的技术</a></li><li><a href="/informal-essay/mian-shi-ti.html" class="sidebar-link">面试题</a></li><li><a href="/informal-essay/xi-huan-de-wen-zi.html" class="sidebar-link">喜欢的文字</a></li><li><a href="/informal-essay/md-study-note/" class="sidebar-link">Markdown基础使用</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2></h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>yh-orange</span>
            
          <!---->
          2024
        </a></span></div></div> <div data-v-1aefc0b4><main class="page"><section><div class="page-title"><h1 class="title">前端工程化部分</h1> <div data-v-f875f3fc><i class="iconfont reco-account" data-v-f875f3fc><span data-v-f875f3fc>yh-orange</span></i> <!----> <i class="iconfont reco-eye" data-v-f875f3fc><span id="/informal-essay/qian-duan-gong-cheng-hua-bu-fen.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-f875f3fc><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <!----></div></div> <div class="theme-reco-content content__default"><h2 id="前端工程化部分"><a href="#前端工程化部分" class="header-anchor">#</a> 前端工程化部分</h2> <h3 id="webpack-与-grunt、gulp-的不同"><a href="#webpack-与-grunt、gulp-的不同" class="header-anchor">#</a> webpack 与 grunt、gulp 的不同？</h3> <p><code>Grunt</code>、<code>Gulp</code> 是基于任务运⾏的⼯具： 它们会⾃动执⾏指定的任务，
就像流⽔线，把资源放上去然后通过不同插件进⾏加⼯，它们包含活
跃的社区，丰富的插件，能⽅便的打造各种⼯作流。</p> <p><code>Webpack</code> 是基于模块化打包的⼯具: ⾃动化处理模块，<code>webpack</code> 把⼀
切当成模块，当 <code>webpack</code> 处理应⽤程序时，它会递归地构建⼀个依
赖关系图 (<code>dependency graph</code>)，其中包含应⽤程序需要的每个模块，
然后将所有这些模块打包成⼀个或多个 <code>bundle</code>。
因此这是完全不同的两类⼯具,⽽现在主流的⽅式是⽤<code>npm script</code> 代
替 <code>Grunt</code>、<code>Gulp</code>，<code>npm script</code> 同样可以打造任务流。</p> <h3 id="webpack、rollup、parcel-优劣"><a href="#webpack、rollup、parcel-优劣" class="header-anchor">#</a> webpack、rollup、parcel 优劣？</h3> <p><code>webpack</code> 适⽤于⼤型复杂的前端站点构建: <code>webpack</code> 有强⼤的 <code>loader</code>
和插件⽣态,打包后的⽂件实际上就是⼀个⽴即执⾏函数，这个⽴即
执⾏函数接收⼀个参数，这个参数是模块对象，键为各个模块的路径，
值为模块内容。⽴即执⾏函数内部则处理模块之间的引⽤，执⾏模块
等,这种情况更适合⽂件依赖复杂的应⽤开发。</p> <p><code>rollup</code> 适⽤于基础库的打包，如 <code>vue</code>、<code>d3</code> 等: <code>Rollup</code> 就是将各个模
块打包进⼀个⽂件中，并且通过 <code>Tree-shaking</code> 来删除⽆⽤的代码,
可以最⼤程度上降低代码体积,但是 <code>rollup</code> 没有 <code>webpack</code> 如此多的的
如代码分割、按需加载等⾼级功能，其更聚焦于库的打包，因此更适
合库的开发。</p> <p><code>parcel</code> 适⽤于简单的实验性项⽬: 他可以满⾜低⻔槛的快速看到效
果,但是⽣态差、报错信息不够全⾯都是他的硬伤，除了⼀些玩具项
⽬或者实验项⽬不建议使⽤。</p> <h3 id="有哪些常⻅的-loader"><a href="#有哪些常⻅的-loader" class="header-anchor">#</a> 有哪些常⻅的 Loader？</h3> <p><code>file-loader</code>：把⽂件输出到⼀个⽂件夹中，在代码中通过相对 <code>URL</code>去引⽤输出的⽂件</p> <p><code>url-loader</code>：和 <code>file-loader</code> 类似，但是能在⽂件很⼩的情况下以<code>base64</code> 的⽅式把⽂件内容注⼊到代码中去</p> <p><code>source-map-loader</code>：加载额外的 <code>Source Map</code> ⽂件，以⽅便断点调试</p> <p><code>image-loader</code>：加载并且压缩图⽚⽂件</p> <p><code>babel-loader</code>：把 <code>ES6</code> 转换成 <code>ES5</code></p> <p><code>css-loader</code>：加载 <code>CSS</code>，⽀持模块化、压缩、⽂件导⼊等特性</p> <p><code>style-loader</code>：把 <code>CSS</code> 代码注⼊到 <code>JavaScript</code> 中，通过 <code>DOM</code> 操作去加载 <code>CSS</code>。</p> <p><code>eslint-loader</code>：通过 <code>ESLint</code> 检查 <code>JavaScript</code> 代码</p> <p>注意：在 <code>Webpack</code> 中，<code>loader</code> 的执行顺序是从右向左执行的。因为<code>webpack</code> 选择了 <code>compose</code> 这样的函数式编程方式，
这种方式的表达式执行是从右向左的。</p> <h3 id="有哪些常⻅的-plugin"><a href="#有哪些常⻅的-plugin" class="header-anchor">#</a> 有哪些常⻅的 Plugin？</h3> <ul><li><code>define-plugin</code>：定义环境变量</li> <li><code>html-webpack-plugin</code>：简化 <code>html</code> ⽂件创建</li> <li><code>uglifyjs-webpack-plugin</code>：通过 <code>UglifyES</code> 压缩 <code>ES6</code> 代码</li> <li><code>webpack-parallel-uglify-plugin</code>: 多核压缩，提⾼压缩速度</li> <li><code>webpack-bundle-analyzer</code>: 可视化 <code>webpack</code> 输出⽂件的体积</li> <li><code>mini-css-extract-plugin</code>: <code>CSS</code> 提取到单独的⽂件中，⽀持按需加载</li></ul> <h3 id="bundle-chunk-module-是什么"><a href="#bundle-chunk-module-是什么" class="header-anchor">#</a> bundle，chunk，module 是什么？</h3> <p><code>bundle</code>：是由 <code>webpack</code> 打包出来的⽂件；
<code>chunk</code>：代码块，⼀个 <code>chunk</code> 由多个模块组合⽽成，⽤于代码的合并和分割；
<code>module</code>：是开发中的单个模块，在 <code>webpack</code> 的世界，⼀切皆模块，⼀个模块对应⼀个⽂件，
<code>webpack</code> 会从配置的 <code>entry</code> 中递归开始找出所有依赖的模块。</p> <h3 id="loader-和-plugin-的不同"><a href="#loader-和-plugin-的不同" class="header-anchor">#</a> Loader 和 Plugin 的不同？</h3> <p><strong>不同的作⽤:</strong> <code>Loader</code> 直译为&quot;加载器&quot;。<code>Webpack</code> 将⼀切⽂件视为模块，但是 <code>webpack</code>原⽣是只能解析 js⽂件，如果想将其他⽂件也打包的话，就会⽤到
<code>loader</code> 。 所以 <code>Loader</code> 的作⽤是让 <code>webpack</code> 拥有了加载和解析⾮<code>JavaScript</code> ⽂件的能⼒。</p> <p><code>Plugin</code> 直译为&quot;插件&quot;。<code>Plugin</code> 可以扩展 <code>webpack</code> 的功能，让 <code>webpack</code>具有更多的灵活性。在 <code>Webpack</code> 运⾏的⽣命周期中会⼴播出许多事
件，<code>Plugin</code> 可以监听这些事件，在合适的时机通过 <code>Webpack</code> 提供的<code>API</code> 改变输出结果。</p> <p><strong>不同的⽤法:</strong> <code>Loader</code> 在 <code>module.rules</code> 中配置，也就是说他作为模块的解析规则⽽存在。 类型为数组，每⼀项都是⼀个 <code>Object</code> ，
⾥⾯描述了对于什么类型的⽂件（ <code>test</code> ），使⽤什么加载( <code>loader</code> )和使⽤的参数（ <code>options</code> ）</p> <p><code>Plugin</code> 在 <code>plugins</code> 中单独配置。类型为数组，每⼀项是⼀个 <code>plugin</code>的实例，参数都通过构造函数传⼊。</p> <h3 id="webpack-热更新的实现原理"><a href="#webpack-热更新的实现原理" class="header-anchor">#</a> webpack 热更新的实现原理？</h3> <p><code>webpack</code> 的热更新⼜称热替换（<code>Hot Module Replacement</code>），缩写为<code>HMR</code>。这个机制可以做到不⽤刷新浏览器⽽将新变更的模块替换掉旧的模块。
原理：
<a href="/images/qdgch.png">热更新</a></p> <p>⾸先要知道 <code>server</code> 端和 <code>client</code> 端都做了处理⼯作：</p> <p>第⼀步，在 <code>webpack</code> 的 <code>watch</code> 模式下，⽂件系统中某⼀个⽂件发⽣
修改，<code>webpack</code> 监听到⽂件变化，根据配置⽂
件对模块重新编译打包，并将打包后的代码通过简单的 <code>JavaScript</code>对象保存在内存中。</p> <p>第⼆步是 <code>webpack-dev-server</code> 和 <code>webpack</code> 之间的接⼝交互，⽽在这⼀步，主要是 <code>dev-server</code> 的中间件 <code>webpack- dev-middleware</code>
和 <code>webpack</code> 之间的交互，<code>webpack-dev-middleware</code> 调⽤ <code>webpack</code> 暴露的 <code>API</code> 对代码变化进⾏监 控，并且告诉 <code>webpack</code>，将代码打包
到内存中。</p> <p>第三步是 <code>webpack-dev-server</code> 对⽂件变化的⼀个监控，这⼀步不同于第⼀步，并不是监控代码变化重新打包。当我们在配置⽂件中配置了
<code>devServer.watchContentBase</code> 为 <code>true</code> 的时候，<code>Server</code> 会监听这些配置⽂件夹中静态⽂件的变化，变化后会通知浏览器端对应⽤进
⾏ <code>live reload</code>。注意，这⼉是浏览器刷新，和 <code>HMR</code> 是两个概念。</p> <p>第四步也是 <code>webpack-dev-server</code> 代码的⼯作，该步骤主要是通过
<code>sockjs</code>（<code>webpack-dev-server 的依赖</code>）在浏览器端和服务端之间建
⽴⼀个 <code>websocket</code> ⻓连接，将 <code>webpack</code> 编译打包的各个阶段的状态
信息告知浏览器端，同时也包括第三步中 <code>Server</code> 监听静态⽂件变化
的信息。浏览器端根据这些 <code>socket</code> 消息进⾏不同的操作。当然服务
端传递的最主要信息还是新模块的 <code>hash</code> 值，后⾯的步骤根据这⼀
<code>hash</code> 值来进⾏模块热替换。
<code>webpack-dev-server/client</code> 端并不能够请求更新的代码，也不会执
⾏ 热 更 模 块 操 作 ， ⽽ 把 这 些 ⼯ 作 ⼜ 交 回 给 了 <code>webpack</code> ，
<code>webpack/hot/dev-server</code> 的 ⼯ 作 就 是 根 据
<code>webpack-dev-server/client</code> 传给它的信息以及 <code>dev-server</code> 的配
置决定是刷新浏览器呢还是进⾏模块热更新。当然如果仅仅是刷新浏
览器，也就没有后⾯那些步骤了。
<code>HotModuleReplacement.runtime</code> 是客户端 <code>HMR</code> 的中枢，它接收到上
⼀ 步 传 递 给 他 的 新 模 块 的 <code>hash</code> 值 ， 它 通 过
<code>JsonpMainTemplate.runtime</code> 向 <code>server</code> 端发送 <code>Ajax</code> 请求，服务端
返回⼀个 <code>json</code>，该 <code>json</code> 包含了所有要更新的模块的 hash 值，获
取到更新列表后，该模块再次通过 <code>jsonp</code> 请求，获取到最新的模块
代码。这就是上图中 7、8、9 步骤。
⽽第 10 步是决定 <code>HMR</code> 成功与否的关键步骤，在该步骤中，
<code>HotModulePlugin</code> 将会对新旧模块进⾏对⽐，决定是否更新模块，在
决定更新模块后，检查模块之间的依赖关系，更新模块的同时更新模
块间的依赖引⽤。
最后⼀步，当 <code>HMR</code> 失败后，回退到 <code>live reload</code> 操作，也就是进⾏
浏览器刷新来获取最新打包代码。</p> <h3 id="babel-的原理是什么"><a href="#babel-的原理是什么" class="header-anchor">#</a> Babel 的原理是什么?</h3> <p><code>babel</code> 的转译过程也分为三个阶段，这三步具体是：
解析 <code>Parse</code>: 将代码解析⽣成抽象语法树（<code>AST</code>），即词法分析与语法分析的过程；</p> <p>转换 <code>Transform</code>: 对于 <code>AST</code> 进⾏变换⼀系列的操作，<code>babel</code> 接受得到 <code>AST</code> 并通过 <code>babel-traverse</code> 对其进⾏遍历，在此过程中进⾏添加、更新及移除等操作；</p> <p>⽣成 <code>Generate</code>: 将变换后的 <code>AST</code> 再转换为 <code>JS</code> 代码, 使⽤到的模块是 <code>babel-generator</code>。</p> <p><a href="/images/qdgch02.png">babel原理图</a></p> <h3 id="git-和-svn-的区别"><a href="#git-和-svn-的区别" class="header-anchor">#</a> git 和 svn 的区别</h3></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2/17/2024, 5:21:49 PM</span></div></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/informal-essay/qian-duan-gong-cheng-hua-bu-fen.html#前端工程化部分" class="sidebar-link reco-side-前端工程化部分" data-v-cb1513f6>前端工程化部分</a></li><li class="level-3" data-v-cb1513f6><a href="/informal-essay/qian-duan-gong-cheng-hua-bu-fen.html#webpack-与-grunt、gulp-的不同" class="sidebar-link reco-side-webpack-与-grunt、gulp-的不同" data-v-cb1513f6>webpack 与 grunt、gulp 的不同？</a></li><li class="level-3" data-v-cb1513f6><a href="/informal-essay/qian-duan-gong-cheng-hua-bu-fen.html#webpack、rollup、parcel-优劣" class="sidebar-link reco-side-webpack、rollup、parcel-优劣" data-v-cb1513f6>webpack、rollup、parcel 优劣？</a></li><li class="level-3" data-v-cb1513f6><a href="/informal-essay/qian-duan-gong-cheng-hua-bu-fen.html#有哪些常⻅的-loader" class="sidebar-link reco-side-有哪些常⻅的-loader" data-v-cb1513f6>有哪些常⻅的 Loader？</a></li><li class="level-3" data-v-cb1513f6><a href="/informal-essay/qian-duan-gong-cheng-hua-bu-fen.html#有哪些常⻅的-plugin" class="sidebar-link reco-side-有哪些常⻅的-plugin" data-v-cb1513f6>有哪些常⻅的 Plugin？</a></li><li class="level-3" data-v-cb1513f6><a href="/informal-essay/qian-duan-gong-cheng-hua-bu-fen.html#bundle-chunk-module-是什么" class="sidebar-link reco-side-bundle-chunk-module-是什么" data-v-cb1513f6>bundle，chunk，module 是什么？</a></li><li class="level-3" data-v-cb1513f6><a href="/informal-essay/qian-duan-gong-cheng-hua-bu-fen.html#loader-和-plugin-的不同" class="sidebar-link reco-side-loader-和-plugin-的不同" data-v-cb1513f6>Loader 和 Plugin 的不同？</a></li><li class="level-3" data-v-cb1513f6><a href="/informal-essay/qian-duan-gong-cheng-hua-bu-fen.html#webpack-热更新的实现原理" class="sidebar-link reco-side-webpack-热更新的实现原理" data-v-cb1513f6>webpack 热更新的实现原理？</a></li><li class="level-3" data-v-cb1513f6><a href="/informal-essay/qian-duan-gong-cheng-hua-bu-fen.html#babel-的原理是什么" class="sidebar-link reco-side-babel-的原理是什么" data-v-cb1513f6>Babel 的原理是什么?</a></li><li class="level-3" data-v-cb1513f6><a href="/informal-essay/qian-duan-gong-cheng-hua-bu-fen.html#git-和-svn-的区别" class="sidebar-link reco-side-git-和-svn-的区别" data-v-cb1513f6>git 和 svn 的区别</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><canvas id="vuepress-canvas-cursor"></canvas></div></div>
    <script src="/assets/js/app.ab7ccc71.js" defer></script><script src="/assets/js/3.4edb9727.js" defer></script><script src="/assets/js/1.8fa44146.js" defer></script><script src="/assets/js/56.833ab305.js" defer></script>
  </body>
</html>
